{
    "AWSTemplateFormatVersion": "2010-09-09",
    "Description": "K6 Load Tester: generating HTTP traffic to internal ALB.",
    "Parameters": {
        "KeyName": {
            "Description": "Name of an existing EC2 KeyPair to enable SSH access to the instances",
            "Type": "AWS::EC2::KeyPair::KeyName",
            "ConstraintDescription": "must be the name of an existing EC2 KeyPair.",
            "Default": "Oregon-Region"
        },
        "ImageIdParameter": {
            "Type": "String",
            "Description": "The image ID of the instance",
            "Default": "ami-05f991c49d264708f"
        },
        "InstanceTypeParameter": {
            "Type": "String",
            "Default": "t2.micro",
            "AllowedValues": [
                "t2.micro",
                "m1.small",
                "m1.large"
            ],
            "Description": "Enter t2.micro, m1.small, or m1.large. Default is t2.micro."
        },
        "SecurityGroupID": {
            "Type": "String",
            "Default": "sg-07c6aaf7a12186c21",
            "Description": "Enter security group to allow access to web server. Default value is sg-07c6aaf7a12186c21."
        },
        "Subnets": {
            "Type": "List<AWS::EC2::Subnet::Id>",
            "Description": "The list of SubnetIds in your Virtual Private Cloud (VPC)",
            "ConstraintDescription": "must be a list of at least two existing subnets associated with at least two different availability zones. They should be residing in the selected Virtual Private Cloud.",
            "Default": "subnet-09408c7b7dc19dd7d,subnet-08669f3eccee78685"
        },
        "VPCID": {
            "Type": "String",
            "Description": "The list of SubnetIds in your Virtual Private Cloud (VPC)",
            "ConstraintDescription": "must be a list of at least two existing subnets associated with at least two different availability zones. They should be residing in the selected Virtual Private Cloud.",
            "Default": "vpc-0f30bd9a716fc989e"
        }
    },
    "Resources": {
        "ASGK6Servers": {
            "Type": "AWS::AutoScaling::AutoScalingGroup",
            "Properties": {
                "AutoScalingGroupName": "K6-Load-Testers",
                "VPCZoneIdentifier": {
                    "Ref": "Subnets"
                },
                "LaunchTemplate": {
                    "LaunchTemplateId": {
                        "Ref": "K6LoadTesterLaunchTemplate"
                    },
                    "Version": {
                        "Fn::GetAtt": [
                            "K6LoadTesterLaunchTemplate",
                            "LatestVersionNumber"
                        ]
                    }
                },
                "MinSize": "0",
                "MaxSize": "2",
                "DesiredCapacity": "1",
                "MetricsCollection": [
                    {
                        "Metrics": [
                            "GroupMaxSize",
                            "GroupTerminatingInstances",
                            "GroupPendingCapacity",
                            "GroupMinSize",
                            "GroupTerminatingCapacity",
                            "GroupTotalCapacity",
                            "GroupInServiceInstances",
                            "GroupPendingInstances",
                            "GroupInServiceCapacity",
                            "GroupDesiredCapacity",
                            "GroupStandbyCapacity",
                            "GroupStandbyInstances",
                            "GroupTotalInstances"
                        ],
                        "Granularity": "1Minute"
                    }
                ],
                "Tags": [
                    {
                        "Key": "POC",
                        "Value": "Network Manager",
                        "PropagateAtLaunch": true
                    },
                    {
                        "Key": "Application",
                        "Value": "K6-Load-Tester",
                        "PropagateAtLaunch": true
                    },
                    {
                        "Key": "Name",
                        "Value": "ASG: K6-Load-Tester",
                        "PropagateAtLaunch": true
                    },
                    {
                        "Key": "OS",
                        "Value": "Ubuntu 24.04",
                        "PropagateAtLaunch": true
                    },
                    {
                        "Key": "auto-delete",
                        "Value": "no",
                        "PropagateAtLaunch": true
                    }
                ]
            }
        },
        "ASGWorkWeekStart": {
            "Type": "AWS::AutoScaling::ScheduledAction",
            "Properties": {
                "AutoScalingGroupName": {
                    "Ref": "ASGK6Servers"
                },
                "MaxSize": "2",
                "MinSize": "1",
                "DesiredCapacity": "1",
                "Recurrence": "45 12 * * MON-FRI"
            }
        },
        "ASGWorkWeekEnd": {
            "Type": "AWS::AutoScaling::ScheduledAction",
            "Properties": {
                "AutoScalingGroupName": {
                    "Ref": "ASGK6Servers"
                },
                "MaxSize": "2",
                "MinSize": "0",
                "DesiredCapacity": "0",
                "Recurrence": "14 22 * * MON-FRI"
            }
        },
        "K6LoadTesterLaunchTemplate": {
            "Type": "AWS::EC2::LaunchTemplate",
            "Properties": {
                "LaunchTemplateName": "K6-Load-Tester-TGW",
                "LaunchTemplateData": {
                    "EbsOptimized": false,
                    "BlockDeviceMappings": [
                        {
                            "DeviceName": "/dev/sda1",
                            "Ebs": {
                                "Encrypted": false,
                                "DeleteOnTermination": true,
                                "Iops": 3000,
                                "SnapshotId": "snap-0a891a0fffad7b9d1",
                                "VolumeSize": 8,
                                "VolumeType": "gp3",
                                "Throughput": 125
                            }
                        }
                    ],
                    "ImageId": {
                        "Ref": "ImageIdParameter"
                    },
                    "InstanceType": {
                        "Ref": "InstanceTypeParameter"
                    },
                    "KeyName": {
                        "Ref": "KeyName"
                    },
                    "UserData": "IyEvYmluL2Jhc2gKI0Rvd25sb2FkIENsb3VkV2F0Y2ggQWdlbnQgQ29uZmlndXJhdGlvbiBmcm9tIFMzIEJ1Y2tldCAKI1N0YXJ0IENsb3VkV2F0Y2ggQWdlbnQgdXNpbmcgU1NNIFBhcmFtZXRlciBTdG9yZSBDb25maWd1cmF0aW9uOiBGdWxsTW90aW9uLWs2LWxvYWQtdGVzdGVyLW9yZWdvbgojSW5zdGFsbCBLNiBMb2FkLVRlc2luZyBTY3JpcHQKI0NyZWF0ZSBLNiBMb2FkLVRlc3RpbmcgU2NyaXB0ICYgTG9nIEZpbGUKI2h0dHBzOi8vazYuaW8vZG9jcy9nZXR0aW5nLXN0YXJ0ZWQvaW5zdGFsbGF0aW9uCiNJbnN0YWxsIFBvd2VybGluZSBmb3IgQ3VzdG9tIFByb21wdHMKCiM+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+PiBDT05GSUdVUkUgSE9TVE5BTUUgPDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDwKCgojU2V0IEhvc3RuYW1lCnByaW50ZiAiXG4jI1NldCBIb3N0bmFtZVxuIgpob3N0bmFtZSBrNi1sb2FkLXRlc3Rlci1vcmVnb24KZWNobyAnazYtbG9hZC10ZXN0ZXItb3JlZ29uJyA+IC9ldGMvaG9zdG5hbWUKZWNobyAnMTI3LjAuMS4xIGs2LWxvYWQtdGVzdGVyLW9yZWdvbicgPj4gL2V0Yy9ob3N0cwoKI1ZhbGlkYXRlIEhvc3RuYW1lCnByaW50ZiAiXG4jI1ZhbGlkYXRlIEhvc3RuYW1lXG4iCmhvc3RuYW1lCmNhdCAvZXRjL2hvc3RuYW1lCmNhdCAvZXRjL2hvc3RzCmhvc3RuYW1lY3RsCgoKIz4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+IFVQREFURSBPUyA8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PAoKcHJpbnRmICJcbiMjVXBkYXRlIFBhY2thZ2VzXG4iCmFwdCB1cGRhdGUgLXkKYXB0IGluc3RhbGwgdW5hdHRlbmRlZC11cGdyYWRlcyAKCgojPj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4gSU5TVEFMTCBQT1dFUkxJTkUgUEFDS0FHRSA8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PAoKI0luc3RhbGwgUG93ZXJsaW5lIFBhY2thZ2UKcHJpbnRmICJcbiMjSW5zdGFsbCBQb3dlcmxpbmUgUGFja2FnZVxuIgphcHQgaW5zdGFsbCBwb3dlcmxpbmUgIHB5dGhvbjMtcGlwIC15CgojQ29uZmlybSBQYWNrYWdlIEluc3RhbGxlZApwcmludGYgIlxuIyNDb25maXJtIFBhY2thZ2UgSW5zdGFsbGVkXG4iCmFwdC1jYWNoZSBzaG93IHBvd2VybGluZQoKCiM+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+PiBVUERBVEUgQkFTSCBDT05GSUdVUkFUSU9OIEZJTEUgPDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDwKCgojQmFja3VwIE9yaWdpbmFsIEJhc2ggQ29uZmlnIEZpbGUKcHJpbnRmICJcbiMjQmFja3VwIE9yaWdpbmFsIEJhc2ggQ29uZmlnIEZpbGVcbiIKY3AgLXYgL2hvbWUvdWJ1bnR1Ly5iYXNocmMgL2hvbWUvdWJ1bnR1Ly5iYXNocmNfT1JJR0lOQUwKCgojVXBkYXRlIEJhc2ggQ29uZmlndXJhdGlvbiBGaWxlCnByaW50ZiAiXG4jI1VwZGF0ZSBCYXNoIENvbmZpZ3VyYXRpb24gRmlsZVxuIgplY2hvICIiID4+IC9ob21lL3VidW50dS8uYmFzaHJjCmVjaG8gIiIgPj4gL2hvbWUvdWJ1bnR1Ly5iYXNocmMKZWNobyAiIiA+PiAvaG9tZS91YnVudHUvLmJhc2hyYwplY2hvICIjIFBvd2VybGluZSBjb25maWd1cmF0aW9uIiA+PiAvaG9tZS91YnVudHUvLmJhc2hyYwplY2hvICJpZiBbIC1mIC91c3Ivc2hhcmUvcG93ZXJsaW5lL2JpbmRpbmdzL2Jhc2gvcG93ZXJsaW5lLnNoIF07IHRoZW4iID4+IC9ob21lL3VidW50dS8uYmFzaHJjCmVjaG8gInBvd2VybGluZS1kYWVtb24gLXEiID4+IC9ob21lL3VidW50dS8uYmFzaHJjCmVjaG8gIlBPV0VSTElORV9CQVNIX0NPTlRJTlVBVElPTj0xIiA+PiAvaG9tZS91YnVudHUvLmJhc2hyYwplY2hvICJQT1dFUkxJTkVfQkFTSF9TRUxFQ1Q9MSIgPj4gL2hvbWUvdWJ1bnR1Ly5iYXNocmMKZWNobyAic291cmNlIC91c3Ivc2hhcmUvcG93ZXJsaW5lL2JpbmRpbmdzL2Jhc2gvcG93ZXJsaW5lLnNoIiA+PiAvaG9tZS91YnVudHUvLmJhc2hyYwplY2hvICJmaSIgPj4gL2hvbWUvdWJ1bnR1Ly5iYXNocmMKCgojVmFsaWRhdGUgQ2hhbmdlcyB0byBCYXNoIENvbmZpZ3VyYXRpb24gRmlsZQpwcmludGYgIlxuIyNWYWxpZGF0ZSBDaGFuZ2VzIHRvIEJhc2ggQ29uZmlndXJhdGlvbiBGaWxlXG4iCnRhaWwgLW4gMjAgL2hvbWUvdWJ1bnR1Ly5iYXNocmMKCiNBcHBseSBDaGFuZ2VzCnByaW50ZiAiXG4jI0FwcGx5IENoYW5nZXNcbiIKc291cmNlIC9ob21lL3VidW50dS8uYmFzaHJjCgoKI1ZhbGlkYXRlIEluc3RhbGxhdGlvbgpwcmludGYgIlxuIyNWYWxpZGF0ZSBJbnN0YWxsYXRpb25cbiIKcGlwMyBzaG93IHBvd2VybGluZS1zdGF0dXMKCgojPj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4gSU5TVEFMTCBQT1dFUkxJTkUgRk9OVFMgPDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDwKCgojQ2xvbmUgUG93ZXJsaW5lIEZvbnRzCnByaW50ZiAiXG4jI0Nsb25lIFBvd2VybGluZSBGb250c1xuIgpnaXQgY2xvbmUgaHR0cHM6Ly9naXRodWIuY29tL3Bvd2VybGluZS9mb250cy5naXQKCgojTW92ZSB0byBGb250IEZvbGRlcgpwcmludGYgIlxuIyNNb3ZlIHRvIEZvbnQgRm9sZGVyXG4iCm12IC12IGZvbnRzLyAvdXNyL3NoYXJlL2ZvbnRzL3Bvd2VybGluZS8KCnByaW50ZiAiXG4jI0NvbmZpcm0gTW92ZVxuIgpscyAvdXNyL3NoYXJlL2ZvbnRzLwoKCiNSZWxvYWQgUG93ZXJsaW5lIEZvbnRzCnByaW50ZiAiXG4jI1JlbG9hZCBQb3dlcmxpbmUgRm9udHNcbiIKZmMtY2FjaGUgLXZmIC91c3Ivc2hhcmUvZm9udHMvCgoKIz4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+IElOU1RBTEwgQVdTIENMSSA8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PAoKCiNJbnN0YWxsIFN1cHBvcnRpbmcgUGFja2FnZXMKcHJpbnRmICJcbiMjSW5zdGFsbCBTdXBwb3J0aW5nIFBhY2thZ2VzXG4iCmFwdC1nZXQgaW5zdGFsbCB1bnppcAoKI0luc3RhbGwgQVdTIENMSQpwcmludGYgIlxuIyNJbnN0YWxsIEFXUyBDTElcbiIKY3VybCAiaHR0cHM6Ly9hd3NjbGkuYW1hem9uYXdzLmNvbS9hd3NjbGktZXhlLWxpbnV4LXg4Nl82NC56aXAiIC1vICJhd3NjbGl2Mi56aXAiCnVuemlwIGF3c2NsaXYyLnppcAouL2F3cy9pbnN0YWxsCgojVmVyaWZ5IEFXUyBDTEkgc3VjY2Vzc2Z1bGx5IGluc3RhbGxlZApwcmludGYgIlxuIyNWZXJpZnkgQVdTIENMSSBzdWNjZXNzZnVsbHkgaW5zdGFsbGVkXG4iCmF3cyAtLXZlcnNpb24KCiM+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+PiBJTlNUQUxMIEs2IExPQUQtVEVTVElORyBTQ1JJUFQgPDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDwKCgojQWRkIEs2IEtleSAmIFJlcG9zaXRvcnkKcHJpbnRmICJcbiMjQWRkIEs2IEtleSAmIFJlcG9zaXRvcnlcbiIKZ3BnIC1rCmdwZyAtLW5vLWRlZmF1bHQta2V5cmluZyAtLWtleXJpbmcgL3Vzci9zaGFyZS9rZXlyaW5ncy9rNi1hcmNoaXZlLWtleXJpbmcuZ3BnIC0ta2V5c2VydmVyIGhrcDovL2tleXNlcnZlci51YnVudHUuY29tOjgwIC0tcmVjdi1rZXlzIEM1QUQxN0M3NDdFMzQxNUEzNjQyRDU3RDc3QzZDNDkxRDZBQzFENjkKZWNobyAiZGViIFtzaWduZWQtYnk9L3Vzci9zaGFyZS9rZXlyaW5ncy9rNi1hcmNoaXZlLWtleXJpbmcuZ3BnXSBodHRwczovL2RsLms2LmlvL2RlYiBzdGFibGUgbWFpbiIgfCBzdWRvIHRlZSAvZXRjL2FwdC9zb3VyY2VzLmxpc3QuZC9rNi5saXN0CgojVXBkYXRlIFJlcG9zaXRvcnkKcHJpbnRmICJcbiMjVXBkYXRlIFJlcG9zaXRvcnlcbiIKYXB0LWdldCB1cGRhdGUKCiNJbnN0YWxsIEs2IExvYWQtVGVzdGluZyBUb29sCnByaW50ZiAiXG4jI0luc3RhbGwgSzYgTG9hZC1UZXN0aW5nIFRvb2xcbiIKYXB0LWdldCBpbnN0YWxsIGs2IC15CgoKIz4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+IENSRUFURSBLNiBURVNUIEZJTEUgPDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDwKCgojQnVpbGQgSzYgVGVzdCBGaWxlCnByaW50ZiAiXG4jI0J1aWxkIEs2IFRlc3QgRmlsZVxuIgplY2hvICJpbXBvcnQgaHR0cCBmcm9tICdrNi9odHRwJzsiID4+IC9ob21lL3VidW50dS9zY3JpcHQuanMKZWNobyAiaW1wb3J0IHsgY2hlY2ssIHNsZWVwIH0gZnJvbSAnazYnOyIgPj4gL2hvbWUvdWJ1bnR1L3NjcmlwdC5qcwplY2hvICIiID4+IC9ob21lL3VidW50dS9zY3JpcHQuanMKZWNobyAiZXhwb3J0IGxldCBvcHRpb25zID0geyIgPj4gL2hvbWUvdWJ1bnR1L3NjcmlwdC5qcwplY2hvICIgIHN0YWdlczogWyIgPj4gL2hvbWUvdWJ1bnR1L3NjcmlwdC5qcwplY2hvICIgICAgeyBkdXJhdGlvbjogJzMwcycsIHRhcmdldDogMjAgfSwiID4+IC9ob21lL3VidW50dS9zY3JpcHQuanMKZWNobyAiICAgIHsgZHVyYXRpb246ICcxbTMwcycsIHRhcmdldDogMTAgfSwiID4+IC9ob21lL3VidW50dS9zY3JpcHQuanMKZWNobyAiICAgIHsgZHVyYXRpb246ICcxbScsIHRhcmdldDogMjAgfSwiID4+IC9ob21lL3VidW50dS9zY3JpcHQuanMKZWNobyAiICAgIHsgZHVyYXRpb246ICcxbScsIHRhcmdldDogMjAgfSwiID4+IC9ob21lL3VidW50dS9zY3JpcHQuanMKZWNobyAiICAgIHsgZHVyYXRpb246ICcxbScsIHRhcmdldDogMjAgfSwiID4+IC9ob21lL3VidW50dS9zY3JpcHQuanMKZWNobyAiICAgIHsgZHVyYXRpb246ICczMHMnLCB0YXJnZXQ6IDIwIH0sIiA+PiAvaG9tZS91YnVudHUvc2NyaXB0LmpzCmVjaG8gIiAgXSwiID4+IC9ob21lL3VidW50dS9zY3JpcHQuanMKZWNobyAifTsiID4+IC9ob21lL3VidW50dS9zY3JpcHQuanMKZWNobyAiIiA+PiAvaG9tZS91YnVudHUvc2NyaXB0LmpzCmVjaG8gImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCkgeyIgPj4gL2hvbWUvdWJ1bnR1L3NjcmlwdC5qcwplY2hvICIgIGxldCByZXMgPSBodHRwLmdldCgnaHR0cDovL2ludGVybmFsLVRHVy1QT0MtSW50ZXJuYWwtMTQ1NjM5NDM4Ni51cy1lYXN0LTEuZWxiLmFtYXpvbmF3cy5jb20nKTsiID4+IC9ob21lL3VidW50dS9zY3JpcHQuanMKZWNobyAiICBjaGVjayhyZXMsIHsiID4+IC9ob21lL3VidW50dS9zY3JpcHQuanMKZWNobyAiICAgICdzdGF0dXMgd2FzIDIwMCc6IHIgPT4gci5zdGF0dXMgPT0gMjAwLCIgPj4gL2hvbWUvdWJ1bnR1L3NjcmlwdC5qcwplY2hvICIgICAgJ3RyYW5zYWN0aW9uIHRpbWUgT0snOiByID0+IHIudGltaW5ncy5kdXJhdGlvbiA8IDIwMCwiID4+IC9ob21lL3VidW50dS9zY3JpcHQuanMKZWNobyAiICB9KTsiID4+IC9ob21lL3VidW50dS9zY3JpcHQuanMKZWNobyAiICBzbGVlcCgxKTsiID4+IC9ob21lL3VidW50dS9zY3JpcHQuanMKZWNobyAifSIgPj4gL2hvbWUvdWJ1bnR1L3NjcmlwdC5qcwoKI0NoYW5nZSBGaWxlIFBlcm1pc3Npb25zIHRvIGFsbG93IGV4ZWN1dGlvbiBieSBVbnByaXZpbGVnZWQgVXNlcgpwcmludGYgIlxuIyNDaGFuZ2UgRmlsZSBQZXJtaXNzaW9ucyB0byBhbGxvdyBleGVjdXRpb24gYnkgVW5wcml2aWxlZ2VkIFVzZXJcbiIKY2hvd24gdWJ1bnR1OnVidW50dSAvaG9tZS91YnVudHUvc2NyaXB0LmpzCmxzIC1saCAvaG9tZS91YnVudHUvc2NyaXB0LmpzCgoKIz4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+IENSRUFURSBTQ1JJUFQgVE8gR0VORVJBVEUgVFJBRkZJQyBUTyBMT0FEIEJBTEFOQ0VSIDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8CgoKI0NyZWF0ZSBMb2cgRmlsZQpwcmludGYgIlxuIyNDcmVhdGUgTG9nIEZpbGVcbiIgCnRvdWNoIC92YXIvbG9nL2s2X2xvYWRfdGVzdC5sb2cKCgojQ2hhbmdlIEZpbGUgUGVybWlzc2lvbnMgdG8gYWxsb3cgZXhlY3V0aW9uIGJ5IFVucHJpdmlsZWdlZCBVc2VyCnByaW50ZiAiXG4jI0NoYW5nZSBGaWxlIFBlcm1pc3Npb25zIHRvIGFsbG93IGV4ZWN1dGlvbiBieSBVbnByaXZpbGVnZWQgVXNlclxuIgpjaG93biB1YnVudHU6dWJ1bnR1IC92YXIvbG9nL2s2X2xvYWRfdGVzdC5sb2cKbHMgLWxoIC92YXIvbG9nL2s2X2xvYWRfdGVzdC5sb2cKCiNCdWlsZCBTY3JpcHQgdG8gR2VuZXJhdGUgVHJhZmZpYyB0byBMb2FkIEJhbGFuY2VyCnByaW50ZiAiXG4jI0J1aWxkIFNjcmlwdCB0byBHZW5lcmF0ZSBUcmFmZmljIHRvIExvYWQgQmFsYW5jZXJcbiIgCmVjaG8gIiMhL2Jpbi9iYXNoIiA+PiAvaG9tZS91YnVudHUvZXhlY3V0ZV9rNl9sb2FkX3Rlc3Quc2gKZWNobyAiI091dHB1dCB0aGUgQ3VycmVudCBUaW1lc3RhbXAiID4+IC9ob21lL3VidW50dS9leGVjdXRlX2s2X2xvYWRfdGVzdC5zaAplY2hvICJwcmludGYgXCJcbiMjU3RhcnRpbmcgTG9hZCBUZXN0IGFnYWluc3QgV2ViIFNlcnZpY2UuLi5cblwiID4+IC92YXIvbG9nL2s2X2xvYWRfdGVzdC5sb2ciID4+IC9ob21lL3VidW50dS9leGVjdXRlX2s2X2xvYWRfdGVzdC5zaAplY2hvICJkYXRlID4+IC92YXIvbG9nL2s2X2xvYWRfdGVzdC5sb2ciID4+IC9ob21lL3VidW50dS9leGVjdXRlX2s2X2xvYWRfdGVzdC5zaAplY2hvICJkYXRlICslcyUzTiA+PiAvdmFyL2xvZy9rNl9sb2FkX3Rlc3QubG9nIiA+PiAvaG9tZS91YnVudHUvZXhlY3V0ZV9rNl9sb2FkX3Rlc3Quc2gKZWNobyAiZWNobyAiIiA+PiAvdmFyL2xvZy9rNl9sb2FkX3Rlc3QubG9nIiA+PiAvaG9tZS91YnVudHUvZXhlY3V0ZV9rNl9sb2FkX3Rlc3Quc2gKZWNobyAiZWNobyAiIiA+PiAvdmFyL2xvZy9rNl9sb2FkX3Rlc3QubG9nIiA+PiAvaG9tZS91YnVudHUvZXhlY3V0ZV9rNl9sb2FkX3Rlc3Quc2gKZWNobyAiIiA+PiAvaG9tZS91YnVudHUvZXhlY3V0ZV9rNl9sb2FkX3Rlc3Quc2gKZWNobyAiI0V4ZWN1dGUgTG9hZCBUZXN0aW5nIFNjcmlwdCIgPj4gL2hvbWUvdWJ1bnR1L2V4ZWN1dGVfazZfbG9hZF90ZXN0LnNoCmVjaG8gInByaW50ZiBcIlxuIyNFeGVjdXRpbmcgTG9hZCBUZXN0aW5nIFNjcmlwdC4uLi5cblwiID4+IC92YXIvbG9nL2s2X2xvYWRfdGVzdC5sb2ciID4+IC9ob21lL3VidW50dS9leGVjdXRlX2s2X2xvYWRfdGVzdC5zaAplY2hvICJrNiBydW4gc2NyaXB0LmpzID4+IC92YXIvbG9nL2s2X2xvYWRfdGVzdC5sb2ciID4+IC9ob21lL3VidW50dS9leGVjdXRlX2s2X2xvYWRfdGVzdC5zaAplY2hvICJlY2hvICIiID4+IC92YXIvbG9nL2s2X2xvYWRfdGVzdC5sb2ciID4+IC9ob21lL3VidW50dS9leGVjdXRlX2s2X2xvYWRfdGVzdC5zaAplY2hvICJlY2hvICIiID4+IC92YXIvbG9nL2s2X2xvYWRfdGVzdC5sb2ciID4+IC9ob21lL3VidW50dS9leGVjdXRlX2s2X2xvYWRfdGVzdC5zaAplY2hvICIiID4+IC9ob21lL3VidW50dS9leGVjdXRlX2s2X2xvYWRfdGVzdC5zaAplY2hvICIjVGVzdCBDb21wbGV0ZSIgPj4gL2hvbWUvdWJ1bnR1L2V4ZWN1dGVfazZfbG9hZF90ZXN0LnNoCmVjaG8gInByaW50ZiBcIlxuIyNMb2FkIFRlc3QgQ29tcGxldGUuXG5cIiAgPj4gL3Zhci9sb2cvazZfbG9hZF90ZXN0LmxvZyIgPj4gL2hvbWUvdWJ1bnR1L2V4ZWN1dGVfazZfbG9hZF90ZXN0LnNoCmVjaG8gImRhdGUgID4+IC92YXIvbG9nL2s2X2xvYWRfdGVzdC5sb2ciID4+IC9ob21lL3VidW50dS9leGVjdXRlX2s2X2xvYWRfdGVzdC5zaAplY2hvICJkYXRlICslcyUzTiAgPj4gL3Zhci9sb2cvazZfbG9hZF90ZXN0LmxvZyIgPj4gL2hvbWUvdWJ1bnR1L2V4ZWN1dGVfazZfbG9hZF90ZXN0LnNoCmVjaG8gImVjaG8gIiIgPj4gL3Zhci9sb2cvazZfbG9hZF90ZXN0LmxvZyIgPj4gL2hvbWUvdWJ1bnR1L2V4ZWN1dGVfazZfbG9hZF90ZXN0LnNoCmVjaG8gImVjaG8gIiIgPj4gL3Zhci9sb2cvazZfbG9hZF90ZXN0LmxvZyIgPj4gL2hvbWUvdWJ1bnR1L2V4ZWN1dGVfazZfbG9hZF90ZXN0LnNoCgoKI091dHB1dCBTY3JpcHQKcHJpbnRmICJcbiMjT3V0cHV0IFNjcmlwdFxuIiAKY2F0IC9ob21lL3VidW50dS9leGVjdXRlX2s2X2xvYWRfdGVzdC5zaAoKI0NoYW5nZSBGaWxlIFBlcm1pc3Npb25zIHRvIGFsbG93IGV4ZWN1dGlvbiBieSBVbnByaXZpbGVnZWQgVXNlcgpwcmludGYgIlxuIyNDaGFuZ2UgRmlsZSBQZXJtaXNzaW9ucyB0byBhbGxvdyBleGVjdXRpb24gYnkgVW5wcml2aWxlZ2VkIFVzZXJcbiIKY2hvd24gdWJ1bnR1OnVidW50dSAvaG9tZS91YnVudHUvZXhlY3V0ZV9rNl9sb2FkX3Rlc3Quc2gKCiNNYWtlIFNjcmlwdCBFeGVjdXRhYmxlCmNobW9kIHUreCAvaG9tZS91YnVudHUvZXhlY3V0ZV9rNl9sb2FkX3Rlc3Quc2gKbHMgLWxoIC9ob21lL3VidW50dS9leGVjdXRlX2s2X2xvYWRfdGVzdC5zaA==",
                    "TagSpecifications": [
                        {
                            "ResourceType": "instance",
                            "Tags": [
                                {
                                    "Key": "POC",
                                    "Value": "Network Manager"
                                },
                                {
                                    "Key": "Application",
                                    "Value": "K6-Load-Tester"
                                },
                                {
                                    "Key": "Name",
                                    "Value": "ASG: K6-Load-Tester"
                                },
                                {
                                    "Key": "OS",
                                    "Value": "Ubuntu 24.04"
                                },
                                {
                                    "Key": "auto-delete",
                                    "Value": "no"
                                }
                            ]
                        }
                    ],
                    "SecurityGroupIds": [
                        {
                            "Ref": "SecurityGroupID"
                        }
                    ]
                }
            }
        }
    }
}