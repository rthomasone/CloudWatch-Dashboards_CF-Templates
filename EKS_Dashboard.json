{
    "AWSTemplateFormatVersion": "2010-09-09",
    "Description": "CloudWatch Dashboards to visualize Elastic Kubernetes Service (EKS) resources. The dashboards leverage Dashboard Variables to filter on the desired resources.",
    "Transform": "AWS::LanguageExtensions",
    "Parameters": {
        "DefaultRegion": {
            "Description": "Select the default region hosting the EKS clusters to be monitored.",
            "Type": "String",
            "Default": "us-east-1"
        },
        "DefaultCluster": {
            "Description": "Select the default EKS Cluster to be monitored.",
            "Type": "String",
            "Default": ""
        }
    },
    "Resources": {
        "CWDashboardEKSAPIAll": {
            "Type": "AWS::CloudWatch::Dashboard",
            "Properties": {
                "DashboardName": "EKS_API_Server_All_Resources",
                "DashboardBody": {
                    "Fn::ToJsonString": {
                        "variables": [
                            {
                                "type": "property",
                                "property": "region",
                                "inputType": "select",
                                "id": "Region",
                                "label": "Region",
                                "defaultValue": {
                                    "Ref": "DefaultRegion"
                                },
                                "visible": true,
                                "values": [
                                    {
                                        "value": "us-east-1",
                                        "label": "N. Virginia"
                                    },
                                    {
                                        "value": "us-east-2",
                                        "label": "Ohio"
                                    },
                                    {
                                        "value": "us-west-1",
                                        "label": "N.California"
                                    },
                                    {
                                        "value": "us-west-2",
                                        "label": "Oregon"
                                    },
                                    {
                                        "value": "ap-east-1",
                                        "label": "Hong Kong"
                                    },
                                    {
                                        "value": "ap-south-1",
                                        "label": "Mumbai"
                                    },
                                    {
                                        "value": "ap-northeast-3",
                                        "label": "Osaka"
                                    },
                                    {
                                        "value": "ap-northeast-2",
                                        "label": "Seoul"
                                    },
                                    {
                                        "value": "ap-southeast-1",
                                        "label": "Singapore"
                                    },
                                    {
                                        "value": "ap-southeast-2",
                                        "label": "Sydney"
                                    },
                                    {
                                        "value": "ap-noutheast-1",
                                        "label": "Toyko"
                                    },
                                    {
                                        "value": "ca-central-1",
                                        "label": "Canada"
                                    },
                                    {
                                        "value": "eu-central-1",
                                        "label": "Frankfurt"
                                    },
                                    {
                                        "value": "eu-west-1",
                                        "label": "Ireland"
                                    },
                                    {
                                        "value": "eu-west-2",
                                        "label": "London"
                                    },
                                    {
                                        "value": "eu-west-3",
                                        "label": "Paris"
                                    },
                                    {
                                        "value": "eu-north-1",
                                        "label": "Stockholm"
                                    },
                                    {
                                        "value": "sa-east-1",
                                        "label": "South America"
                                    }
                                ]
                            }
                        ],
                        "widgets": [
                            {
                                "type": "metric",
                                "x": 18,
                                "y": 13,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{AWS/EKS,ClusterName} MetricName=\"apiserver_storage_size_bytes\"', 'Maximum', 60)),MAX, DESC)",
                                                "label": "${PROP('Dim.ClusterName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "apiserver_storage_size_bytes"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 0,
                                "y": 66,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{AWS/EKS,ClusterName} MetricName=\"scheduler_schedule_attempts_total\"', 'Sum', 60)),SUM, DESC)",
                                                "label": "${PROP('Dim.ClusterName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "singleValue",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "scheduler_schedule_attempts_total",
                                    "setPeriodToTimeRange": true,
                                    "sparkline": false
                                }
                            },
                            {
                                "type": "metric",
                                "x": 6,
                                "y": 66,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{AWS/EKS,ClusterName} MetricName=\"scheduler_schedule_attempts_SCHEDULED\"', 'Sum', 60)),SUM, DESC)",
                                                "label": "${PROP('Dim.ClusterName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "singleValue",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "scheduler_schedule_attempts_SCHEDULED",
                                    "setPeriodToTimeRange": true,
                                    "sparkline": false
                                }
                            },
                            {
                                "type": "metric",
                                "x": 12,
                                "y": 66,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{AWS/EKS,ClusterName} MetricName=\"scheduler_schedule_attempts_UNSCHEDULABLE\"', 'Sum', 60)),SUM, DESC)",
                                                "label": "${PROP('Dim.ClusterName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "singleValue",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "scheduler_schedule_attempts_UNSCHEDULABLE",
                                    "setPeriodToTimeRange": true,
                                    "sparkline": false
                                }
                            },
                            {
                                "type": "metric",
                                "x": 18,
                                "y": 66,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{AWS/EKS,ClusterName} MetricName=\"scheduler_schedule_attempts_ERROR\"', 'Sum', 60)),SUM, DESC)",
                                                "label": "${PROP('Dim.ClusterName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "singleValue",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "scheduler_schedule_attempts_ERROR",
                                    "setPeriodToTimeRange": true,
                                    "sparkline": false
                                }
                            },
                            {
                                "type": "metric",
                                "x": 0,
                                "y": 53,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{AWS/EKS,ClusterName} MetricName=\"scheduler_pending_pods\"', 'Sum', 60)),SUM, DESC)",
                                                "label": "${PROP('Dim.ClusterName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "scheduler_pending_pods"
                                }
                            },
                            {
                                "type": "text",
                                "x": 0,
                                "y": 52,
                                "width": 24,
                                "height": 1,
                                "properties": {
                                    "markdown": "# Scheduler: Pods",
                                    "background": "transparent"
                                }
                            },
                            {
                                "type": "text",
                                "x": 0,
                                "y": 65,
                                "width": 24,
                                "height": 1,
                                "properties": {
                                    "markdown": "# Scheduler: Schedule",
                                    "background": "transparent"
                                }
                            },
                            {
                                "type": "text",
                                "x": 0,
                                "y": 0,
                                "width": 24,
                                "height": 1,
                                "properties": {
                                    "markdown": "# API Server: Requests",
                                    "background": "transparent"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 6,
                                "y": 46,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{AWS/EKS,ClusterName} MetricName=\"apiserver_admission_webhook_admission_duration_seconds_VALIDATING_P99\"', 'Average', 60)),AVG, DESC)",
                                                "label": "${PROP('Dim.ClusterName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "apiserver_admission_webhook_admission_duration_seconds_VALIDATING_P99"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 12,
                                "y": 46,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{AWS/EKS,ClusterName} MetricName=\"apiserver_admission_webhook_admission_duration_seconds_ADMIT_P99\"', 'Average', 60)),AVG, DESC)",
                                                "label": "${PROP('Dim.ClusterName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "apiserver_admission_webhook_admission_duration_seconds_ADMIT_P99"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 0,
                                "y": 46,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{AWS/EKS,ClusterName} MetricName=\"apiserver_admission_webhook_admission_duration_seconds\"', 'Average', 60)),AVG, DESC)",
                                                "label": "${PROP('Dim.ClusterName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "apiserver_admission_webhook_admission_duration_seconds"
                                }
                            },
                            {
                                "type": "text",
                                "x": 0,
                                "y": 19,
                                "width": 24,
                                "height": 1,
                                "properties": {
                                    "markdown": "# API Server: p99 Request Latency (seconds)",
                                    "background": "transparent"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 12,
                                "y": 13,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{AWS/EKS,ClusterName} MetricName=\"apiserver_current_inflight_requests_READONLY\"', 'Sum', 60)),SUM, DESC)",
                                                "label": "${PROP('Dim.ClusterName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "apiserver_current_inflight_requests_READONLY"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 0,
                                "y": 13,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{AWS/EKS,ClusterName} MetricName=\"apiserver_request_total_LIST_PODS\"', 'Sum', 60)),SUM, DESC)",
                                                "label": "${PROP('Dim.ClusterName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "apiserver_request_total_LIST_PODS"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 12,
                                "y": 20,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{AWS/EKS,ClusterName} MetricName=\"apiserver_request_duration_seconds_DELETE_P99\"', 'Average', 60)),AVG, DESC)",
                                                "label": "${PROP('Dim.ClusterName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "apiserver_request_duration_seconds_DELETE_P99"
                                }
                            },
                            {
                                "type": "text",
                                "x": 0,
                                "y": 32,
                                "width": 24,
                                "height": 1,
                                "properties": {
                                    "markdown": "# API Server: Admission Webhook Request",
                                    "background": "transparent"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 6,
                                "y": 26,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{AWS/EKS,ClusterName} MetricName=\"apiserver_request_duration_seconds_LIST_P99\"', 'Average', 60)),AVG, DESC)",
                                                "label": "${PROP('Dim.ClusterName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "apiserver_request_duration_seconds_LIST_P99"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 0,
                                "y": 26,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{AWS/EKS,ClusterName} MetricName=\"apiserver_request_duration_seconds_GET_P99\"', 'Average', 60)),AVG, DESC)",
                                                "label": "${PROP('Dim.ClusterName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "apiserver_request_duration_seconds_GET_P99"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 6,
                                "y": 20,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{AWS/EKS,ClusterName} MetricName=\"apiserver_request_duration_seconds_POST_P99\"', 'Average', 60)),AVG, DESC)",
                                                "label": "${PROP('Dim.ClusterName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "apiserver_request_duration_seconds_POST_P99"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 18,
                                "y": 20,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{AWS/EKS,ClusterName} MetricName=\"apiserver_request_duration_seconds_PATCH_P99\"', 'Average', 60)),AVG, DESC)",
                                                "label": "${PROP('Dim.ClusterName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "apiserver_request_duration_seconds_PATCH_P99"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 0,
                                "y": 20,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{AWS/EKS,ClusterName} MetricName=\"apiserver_request_duration_seconds_PUT_P99\"', 'Average', 60)),AVG, DESC)",
                                                "label": "${PROP('Dim.ClusterName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "apiserver_request_duration_seconds_PUT_P99"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 6,
                                "y": 13,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{AWS/EKS,ClusterName} MetricName=\"apiserver_current_inflight_requests_MUTATING\"', 'Sum', 60)),SUM, DESC)",
                                                "label": "${PROP('Dim.ClusterName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "apiserver_current_inflight_requests_MUTATING"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 18,
                                "y": 1,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{AWS/EKS,ClusterName} MetricName=\"apiserver_request_total_5XX\"', 'Sum', 60)),SUM, DESC)",
                                                "label": "${PROP('Dim.ClusterName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "singleValue",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "apiserver_request_total_5XX",
                                    "setPeriodToTimeRange": true,
                                    "sparkline": false
                                }
                            },
                            {
                                "type": "metric",
                                "x": 12,
                                "y": 1,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{AWS/EKS,ClusterName} MetricName=\"apiserver_request_total_429\"', 'Sum', 60)),SUM, DESC)",
                                                "label": "${PROP('Dim.ClusterName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "singleValue",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "apiserver_request_total_429",
                                    "setPeriodToTimeRange": true,
                                    "sparkline": false
                                }
                            },
                            {
                                "type": "metric",
                                "x": 6,
                                "y": 1,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{AWS/EKS,ClusterName} MetricName=\"apiserver_request_total_4XX\"', 'Sum', 60)),SUM, DESC)",
                                                "label": "${PROP('Dim.ClusterName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "singleValue",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "apiserver_request_total_4XX",
                                    "setPeriodToTimeRange": true,
                                    "sparkline": false
                                }
                            },
                            {
                                "type": "metric",
                                "x": 0,
                                "y": 1,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{AWS/EKS,ClusterName} MetricName=\"apiserver_request_total\"', 'Sum', 60)),SUM, DESC)",
                                                "label": "${PROP('Dim.ClusterName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "singleValue",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "apiserver_request_total",
                                    "setPeriodToTimeRange": true,
                                    "sparkline": false
                                }
                            },
                            {
                                "type": "metric",
                                "x": 18,
                                "y": 7,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{AWS/EKS,ClusterName} MetricName=\"apiserver_request_total_5XX\"', 'Sum', 60)),SUM, DESC)",
                                                "label": "${PROP('Dim.ClusterName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "apiserver_request_total_5XX"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 12,
                                "y": 7,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{AWS/EKS,ClusterName} MetricName=\"apiserver_request_total_429\"', 'Sum', 60)),SUM, DESC)",
                                                "label": "${PROP('Dim.ClusterName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "apiserver_request_total_429"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 6,
                                "y": 7,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{AWS/EKS,ClusterName} MetricName=\"apiserver_request_total_4XX\"', 'Sum', 60)),SUM, DESC)",
                                                "label": "${PROP('Dim.ClusterName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "apiserver_request_total_4XX"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 0,
                                "y": 7,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{AWS/EKS,ClusterName} MetricName=\"apiserver_request_total\"', 'Sum', 60)),SUM, DESC)",
                                                "label": "${PROP('Dim.ClusterName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "apiserver_request_total"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 12,
                                "y": 53,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{AWS/EKS,ClusterName} MetricName=\"scheduler_pending_pods_BACKOFF\"', 'Sum', 60)),SUM, DESC)",
                                                "label": "${PROP('Dim.ClusterName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "scheduler_pending_pods_BACKOFF"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 18,
                                "y": 53,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{AWS/EKS,ClusterName} MetricName=\"scheduler_pending_pods_GATED\"', 'Sum', 60)),SUM, DESC)",
                                                "label": "${PROP('Dim.ClusterName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "scheduler_pending_pods_GATED"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 0,
                                "y": 59,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{AWS/EKS,ClusterName} MetricName=\"scheduler_pending_pods_UNSCHEDULABLE\"', 'Sum', 60)),SUM, DESC)",
                                                "label": "${PROP('Dim.ClusterName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "scheduler_pending_pods_UNSCHEDULABLE"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 6,
                                "y": 53,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{AWS/EKS,ClusterName} MetricName=\"scheduler_pending_pods_ACTIVEQ\"', 'Sum', 60)),SUM, DESC)",
                                                "label": "${PROP('Dim.ClusterName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "scheduler_pending_pods_ACTIVEQ"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 0,
                                "y": 72,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{AWS/EKS,ClusterName} MetricName=\"scheduler_schedule_attempts_total\"', 'Sum', 60)),SUM, DESC)",
                                                "label": "${PROP('Dim.ClusterName')}",
                                                "id": "e1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "scheduler_schedule_attempts_total"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 6,
                                "y": 72,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{AWS/EKS,ClusterName} MetricName=\"scheduler_schedule_attempts_SCHEDULED\"', 'Sum', 60)),SUM, DESC)",
                                                "label": "${PROP('Dim.ClusterName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "scheduler_schedule_attempts_SCHEDULED"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 12,
                                "y": 72,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{AWS/EKS,ClusterName} MetricName=\"scheduler_schedule_attempts_UNSCHEDULABLE\"', 'Sum', 60)),SUM, DESC)",
                                                "label": "${PROP('Dim.ClusterName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "scheduler_schedule_attempts_UNSCHEDULABLE"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 18,
                                "y": 72,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{AWS/EKS,ClusterName} MetricName=\"scheduler_schedule_attempts_ERROR\"', 'Sum', 60)),SUM, DESC)",
                                                "label": "${PROP('Dim.ClusterName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "scheduler_schedule_attempts_ERROR"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 0,
                                "y": 39,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{AWS/EKS,ClusterName} MetricName=\"apiserver_admission_webhook_rejection_count_VALIDATING\"', 'Sum', 60)),SUM, DESC)",
                                                "label": "${PROP('Dim.ClusterName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "apiserver_admission_webhook_rejection_count_VALIDATING"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 12,
                                "y": 33,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{AWS/EKS,ClusterName} MetricName=\"apiserver_admission_webhook_rejection_count_ADMIT\"', 'Sum', 60)),SUM, DESC)",
                                                "label": "${PROP('Dim.ClusterName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "apiserver_admission_webhook_rejection_count_ADMIT"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 6,
                                "y": 33,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{AWS/EKS,ClusterName} MetricName=\"apiserver_admission_webhook_rejection_count\"', 'Sum', 60)),SUM, DESC)",
                                                "label": "${PROP('Dim.ClusterName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "apiserver_admission_webhook_rejection_count"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 18,
                                "y": 33,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{AWS/EKS,ClusterName} MetricName=\"apiserver_admission_webhook_request_total_VALIDATING\"', 'Sum', 60)),SUM, DESC)",
                                                "label": "${PROP('Dim.ClusterName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "apiserver_admission_webhook_request_total_VALIDATING"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 6,
                                "y": 39,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{AWS/EKS,ClusterName} MetricName=\"apiserver_admission_webhook_request_total_ADMIT\"', 'Sum', 60)),SUM, DESC)",
                                                "label": "${PROP('Dim.ClusterName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "apiserver_admission_webhook_request_total_ADMIT"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 0,
                                "y": 33,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{AWS/EKS,ClusterName} MetricName=\"apiserver_admission_webhook_request_total\"', 'Sum', 60)),SUM, DESC)",
                                                "label": "${PROP('Dim.ClusterName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "apiserver_admission_webhook_request_total"
                                }
                            },
                            {
                                "type": "text",
                                "x": 0,
                                "y": 45,
                                "width": 24,
                                "height": 1,
                                "properties": {
                                    "markdown": "# API Server: Admission Webhook p99 Request Latency (seconds)",
                                    "background": "transparent"
                                }
                            }
                        ]
                    }
                }
            }
        },
        "CWDashboardEKSAPIIndividual": {
            "Type": "AWS::CloudWatch::Dashboard",
            "Properties": {
                "DashboardName": "EKS_API_Server_Individual_Resources",
                "DashboardBody": {
                    "Fn::ToJsonString": {
                        "variables": [
                            {
                                "type": "property",
                                "property": "region",
                                "inputType": "select",
                                "id": "Region",
                                "label": "Region",
                                "defaultValue": {
                                    "Ref": "DefaultRegion"
                                },
                                "visible": true,
                                "values": [
                                    {
                                        "value": "us-east-1",
                                        "label": "N. Virginia"
                                    },
                                    {
                                        "value": "us-east-2",
                                        "label": "Ohio"
                                    },
                                    {
                                        "value": "us-west-1",
                                        "label": "N.California"
                                    },
                                    {
                                        "value": "us-west-2",
                                        "label": "Oregon"
                                    },
                                    {
                                        "value": "ap-east-1",
                                        "label": "Hong Kong"
                                    },
                                    {
                                        "value": "ap-south-1",
                                        "label": "Mumbai"
                                    },
                                    {
                                        "value": "ap-northeast-3",
                                        "label": "Osaka"
                                    },
                                    {
                                        "value": "ap-northeast-2",
                                        "label": "Seoul"
                                    },
                                    {
                                        "value": "ap-southeast-1",
                                        "label": "Singapore"
                                    },
                                    {
                                        "value": "ap-southeast-2",
                                        "label": "Sydney"
                                    },
                                    {
                                        "value": "ap-noutheast-1",
                                        "label": "Toyko"
                                    },
                                    {
                                        "value": "ca-central-1",
                                        "label": "Canada"
                                    },
                                    {
                                        "value": "eu-central-1",
                                        "label": "Frankfurt"
                                    },
                                    {
                                        "value": "eu-west-1",
                                        "label": "Ireland"
                                    },
                                    {
                                        "value": "eu-west-2",
                                        "label": "London"
                                    },
                                    {
                                        "value": "eu-west-3",
                                        "label": "Paris"
                                    },
                                    {
                                        "value": "eu-north-1",
                                        "label": "Stockholm"
                                    },
                                    {
                                        "value": "sa-east-1",
                                        "label": "South America"
                                    }
                                ]
                            },
                            {
                                "type": "property",
                                "property": "ClusterName",
                                "inputType": "select",
                                "id": "ClusterName",
                                "label": "ClusterName",
                                "defaultValue": {
                                    "Ref": "DefaultCluster"
                                },
                                "visible": true,
                                "inputPopulationType": "search",
                                "search": "{AWS/EKS,ClusterName}",
                                "populateFrom": "ClusterName"
                            }
                        ],
                        "widgets": [
                            {
                                "type": "metric",
                                "x": 18,
                                "y": 5,
                                "width": 6,
                                "height": 7,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{AWS/EKS,ClusterName} MetricName=\"apiserver_storage_size_bytes\" ClusterName=\"ekscluster\"', 'Maximum', 60)),MAX, DESC)",
                                                "label": "${PROP('Dim.ClusterName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "API Server Storag Size (bytes)"
                                }
                            },
                            {
                                "type": "text",
                                "x": 0,
                                "y": 41,
                                "width": 24,
                                "height": 1,
                                "properties": {
                                    "markdown": "# Scheduler",
                                    "background": "transparent"
                                }
                            },
                            {
                                "type": "text",
                                "x": 0,
                                "y": 0,
                                "width": 24,
                                "height": 1,
                                "properties": {
                                    "markdown": "# API Server: Requests",
                                    "background": "transparent"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 18,
                                "y": 12,
                                "width": 6,
                                "height": 7,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{AWS/EKS,ClusterName} MetricName=\"apiserver_request_total_LIST_PODS\" ClusterName=\"ekscluster\"', 'Sum', 60)),SUM, DESC)",
                                                "label": "${PROP('Dim.ClusterName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "apiserver_request_total_LIST_PODS"
                                }
                            },
                            {
                                "type": "text",
                                "x": 0,
                                "y": 26,
                                "width": 24,
                                "height": 1,
                                "properties": {
                                    "markdown": "# API Server: Admission Webhook Request",
                                    "background": "transparent"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 0,
                                "y": 12,
                                "width": 18,
                                "height": 7,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{AWS/EKS,ClusterName} MetricName=\"apiserver_current_inflight_requests_MUTATING\" ClusterName=\"ekscluster\"', 'Sum', 60)),SUM, DESC)",
                                                "label": "${PROP('MetricName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ],
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{AWS/EKS,ClusterName} MetricName=\"apiserver_current_inflight_requests_READONLY\" ClusterName=\"ekscluster\"', 'Sum', 60)),SUM, DESC)",
                                                "label": "${PROP('MetricName')}",
                                                "id": "e2",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "API Server: Current Inflight Requests"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 18,
                                "y": 1,
                                "width": 6,
                                "height": 4,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{AWS/EKS,ClusterName} MetricName=\"apiserver_request_total_5XX\" ClusterName=\"ekscluster\"', 'Sum', 60)),SUM, DESC)",
                                                "label": "${PROP('Dim.ClusterName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "singleValue",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "API Server: Requests 5XX",
                                    "setPeriodToTimeRange": true,
                                    "sparkline": false
                                }
                            },
                            {
                                "type": "metric",
                                "x": 12,
                                "y": 1,
                                "width": 6,
                                "height": 4,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{AWS/EKS,ClusterName} MetricName=\"apiserver_request_total_429\" ClusterName=\"ekscluster\"', 'Sum', 60)),SUM, DESC)",
                                                "label": "${PROP('Dim.ClusterName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "singleValue",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "API Server: Requests 429",
                                    "setPeriodToTimeRange": true,
                                    "sparkline": false
                                }
                            },
                            {
                                "type": "metric",
                                "x": 6,
                                "y": 1,
                                "width": 6,
                                "height": 4,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{AWS/EKS,ClusterName} MetricName=\"apiserver_request_total_4XX\" ClusterName=\"ekscluster\"', 'Sum', 60)),SUM, DESC)",
                                                "label": "${PROP('Dim.ClusterName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "singleValue",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "API Server: Requests 4XX",
                                    "setPeriodToTimeRange": true,
                                    "sparkline": false
                                }
                            },
                            {
                                "type": "metric",
                                "x": 0,
                                "y": 1,
                                "width": 6,
                                "height": 4,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{AWS/EKS,ClusterName} MetricName=\"apiserver_request_total\" ClusterName=\"ekscluster\"', 'Sum', 60)),SUM, DESC)",
                                                "label": "${PROP('MetricName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "singleValue",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "API Server: Requests Total",
                                    "setPeriodToTimeRange": true,
                                    "sparkline": false
                                }
                            },
                            {
                                "type": "metric",
                                "x": 0,
                                "y": 5,
                                "width": 18,
                                "height": 7,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{AWS/EKS,ClusterName} MetricName=\"apiserver_request_total\" ClusterName=\"ekscluster\"', 'Sum', 60)),SUM, DESC)",
                                                "label": "${PROP('MetricName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ],
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{AWS/EKS,ClusterName} MetricName=\"apiserver_request_total_4XX\" ClusterName=\"ekscluster\"', 'Sum', 60)),SUM, DESC)",
                                                "label": "${PROP('MetricName')}",
                                                "id": "e2",
                                                "region": "us-east-1"
                                            }
                                        ],
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{AWS/EKS,ClusterName} MetricName=\"apiserver_request_total_429\" ClusterName=\"ekscluster\"', 'Sum', 60)),SUM, DESC)",
                                                "label": "${PROP('MetricName')}",
                                                "id": "e3",
                                                "region": "us-east-1"
                                            }
                                        ],
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{AWS/EKS,ClusterName} MetricName=\"apiserver_request_total_5XX\" ClusterName=\"ekscluster\"', 'Sum', 60)),SUM, DESC)",
                                                "label": "${PROP('MetricName')}",
                                                "id": "e4",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "API Server Requests by Response Code",
                                    "setPeriodToTimeRange": true,
                                    "sparkline": false
                                }
                            },
                            {
                                "type": "metric",
                                "x": 0,
                                "y": 19,
                                "width": 24,
                                "height": 7,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{AWS/EKS,ClusterName} MetricName=\"apiserver_request_duration_seconds_PUT_P99\" ClusterName=\"ekscluster\"', 'Average', 60)),AVG, DESC)",
                                                "label": "${PROP('MetricName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ],
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{AWS/EKS,ClusterName} MetricName=\"apiserver_request_duration_seconds_PATCH_P99\" ClusterName=\"ekscluster\"', 'Average', 60)),AVG, DESC)",
                                                "label": "${PROP('MetricName')}",
                                                "id": "e2",
                                                "region": "us-east-1"
                                            }
                                        ],
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{AWS/EKS,ClusterName} MetricName=\"apiserver_request_duration_seconds_POST_P99\" ClusterName=\"ekscluster\"', 'Average', 60)),AVG, DESC)",
                                                "label": "${PROP('MetricName')}",
                                                "id": "e3",
                                                "region": "us-east-1"
                                            }
                                        ],
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{AWS/EKS,ClusterName} MetricName=\"apiserver_request_duration_seconds_GET_P99\" ClusterName=\"ekscluster\"', 'Average', 60)),AVG, DESC)",
                                                "label": "${PROP('MetricName')}",
                                                "id": "e4",
                                                "region": "us-east-1"
                                            }
                                        ],
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{AWS/EKS,ClusterName} MetricName=\"apiserver_request_duration_seconds_LIST_P99\" ClusterName=\"ekscluster\"', 'Average', 60)),AVG, DESC)",
                                                "label": "${PROP('MetricName')}",
                                                "id": "e5",
                                                "region": "us-east-1"
                                            }
                                        ],
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{AWS/EKS,ClusterName} MetricName=\"apiserver_request_duration_seconds_DELETE_P99\" ClusterName=\"ekscluster\"', 'Average', 60)),AVG, DESC)",
                                                "label": "${PROP('MetricName')}",
                                                "id": "e6",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "API Server: p99 Request Latency (seconds)"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 0,
                                "y": 27,
                                "width": 24,
                                "height": 7,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{AWS/EKS,ClusterName} MetricName=\"apiserver_admission_webhook_request_total\" ClusterName=\"ekscluster\"', 'Sum', 60)),SUM, DESC)",
                                                "label": "${PROP('MetricName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ],
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{AWS/EKS,ClusterName} MetricName=\"apiserver_admission_webhook_request_total_ADMIT\" ClusterName=\"ekscluster\"', 'Sum', 60)),SUM, DESC)",
                                                "label": "${PROP('MetricName')}",
                                                "id": "e2",
                                                "region": "us-east-1"
                                            }
                                        ],
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{AWS/EKS,ClusterName} MetricName=\"apiserver_admission_webhook_request_total_VALIDATING\" ClusterName=\"ekscluster\"', 'Sum', 60)),SUM, DESC)",
                                                "label": "${PROP('MetricName')}",
                                                "id": "e3",
                                                "region": "us-east-1"
                                            }
                                        ],
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{AWS/EKS,ClusterName} MetricName=\"apiserver_admission_webhook_rejection_count\" ClusterName=\"ekscluster\"', 'Sum', 60)),SUM, DESC)",
                                                "label": "${PROP('MetricName')}",
                                                "id": "e4",
                                                "region": "us-east-1"
                                            }
                                        ],
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{AWS/EKS,ClusterName} MetricName=\"apiserver_admission_webhook_rejection_count_ADMIT\" ClusterName=\"ekscluster\"', 'Sum', 60)),SUM, DESC)",
                                                "label": "${PROP('MetricName')}",
                                                "id": "e5",
                                                "region": "us-east-1"
                                            }
                                        ],
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{AWS/EKS,ClusterName} MetricName=\"apiserver_admission_webhook_rejection_count_VALIDATING\" ClusterName=\"ekscluster\"', 'Sum', 60)),SUM, DESC)",
                                                "label": "${PROP('MetricName')}",
                                                "id": "e6",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "API Server: Admission Webhook Request"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 0,
                                "y": 34,
                                "width": 24,
                                "height": 7,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{AWS/EKS,ClusterName} MetricName=\"apiserver_admission_webhook_admission_duration_seconds\" ClusterName=\"ekscluster\"', 'Average', 60)),AVG, DESC)",
                                                "label": "${PROP('MetricName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ],
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{AWS/EKS,ClusterName} MetricName=\"apiserver_admission_webhook_admission_duration_seconds_ADMIT_P99\" ClusterName=\"ekscluster\"', 'Average', 60)),AVG, DESC)",
                                                "label": "${PROP('MetricName')}",
                                                "id": "e2",
                                                "region": "us-east-1"
                                            }
                                        ],
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{AWS/EKS,ClusterName} MetricName=\"apiserver_admission_webhook_admission_duration_seconds_VALIDATING_P99\" ClusterName=\"ekscluster\"', 'Average', 60)),AVG, DESC)",
                                                "label": "${PROP('MetricName')}",
                                                "id": "e3",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "API Server: Admission Webhook p99 Request Latency (seconds)"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 0,
                                "y": 42,
                                "width": 24,
                                "height": 7,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{AWS/EKS,ClusterName} MetricName=\"scheduler_pending_pods\" ClusterName=\"ekscluster\"', 'Sum', 60)),SUM, DESC)",
                                                "label": "${PROP('MetricName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ],
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{AWS/EKS,ClusterName} MetricName=\"scheduler_pending_pods_ACTIVEQ\" ClusterName=\"ekscluster\"', 'Sum', 60)),SUM, DESC)",
                                                "label": "${PROP('MetricName')}",
                                                "id": "e2",
                                                "region": "us-east-1"
                                            }
                                        ],
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{AWS/EKS,ClusterName} MetricName=\"scheduler_pending_pods_UNSCHEDULABLE\" ClusterName=\"ekscluster\"', 'Sum', 60)),SUM, DESC)",
                                                "label": "${PROP('MetricName')}",
                                                "id": "e3",
                                                "region": "us-east-1"
                                            }
                                        ],
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{AWS/EKS,ClusterName} MetricName=\"scheduler_pending_pods_BACKOFF\" ClusterName=\"ekscluster\"', 'Sum', 60)),SUM, DESC)",
                                                "label": "${PROP('MetricName')}",
                                                "id": "e4",
                                                "region": "us-east-1"
                                            }
                                        ],
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{AWS/EKS,ClusterName} MetricName=\"scheduler_pending_pods_GATED\" ClusterName=\"ekscluster\"', 'Sum', 60)),SUM, DESC)",
                                                "label": "${PROP('MetricName')}",
                                                "id": "e5",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "Scheduler: Pods"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 0,
                                "y": 49,
                                "width": 24,
                                "height": 8,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{AWS/EKS,ClusterName} MetricName=\"scheduler_schedule_attempts_total\" ClusterName=\"ekscluster\"', 'Sum', 60)),SUM, DESC)",
                                                "label": "${PROP('MetricName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ],
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{AWS/EKS,ClusterName} MetricName=\"scheduler_schedule_attempts_SCHEDULED\" ClusterName=\"ekscluster\"', 'Sum', 60)),SUM, DESC)",
                                                "label": "${PROP('MetricName')}",
                                                "id": "e2",
                                                "region": "us-east-1"
                                            }
                                        ],
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{AWS/EKS,ClusterName} MetricName=\"scheduler_schedule_attempts_UNSCHEDULABLE\" ClusterName=\"ekscluster\"', 'Sum', 60)),SUM, DESC)",
                                                "label": "${PROP('MetricName')}",
                                                "id": "e3",
                                                "region": "us-east-1"
                                            }
                                        ],
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{AWS/EKS,ClusterName} MetricName=\"scheduler_schedule_attempts_ERROR\" ClusterName=\"ekscluster\"', 'Sum', 60)),SUM, DESC)",
                                                "label": "${PROP('MetricName')}",
                                                "id": "e4",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "Scheduler: Schedule Attempts"
                                }
                            }
                        ]
                    }
                }
            }
        },
        "CWDashboardEKSIAll": {
            "Type": "AWS::CloudWatch::Dashboard",
            "Properties": {
                "DashboardName": "EKS_All_Resources",
                "DashboardBody": {
                    "Fn::ToJsonString": {
                        "variables": [
                            {
                                "type": "property",
                                "property": "region",
                                "inputType": "select",
                                "id": "Region",
                                "label": "Region",
                                "defaultValue": {
                                    "Ref": "DefaultRegion"
                                },
                                "visible": true,
                                "values": [
                                    {
                                        "value": "us-east-1",
                                        "label": "N. Virginia"
                                    },
                                    {
                                        "value": "us-east-2",
                                        "label": "Ohio"
                                    },
                                    {
                                        "value": "us-west-1",
                                        "label": "N.California"
                                    },
                                    {
                                        "value": "us-west-2",
                                        "label": "Oregon"
                                    },
                                    {
                                        "value": "ap-east-1",
                                        "label": "Hong Kong"
                                    },
                                    {
                                        "value": "ap-south-1",
                                        "label": "Mumbai"
                                    },
                                    {
                                        "value": "ap-northeast-3",
                                        "label": "Osaka"
                                    },
                                    {
                                        "value": "ap-northeast-2",
                                        "label": "Seoul"
                                    },
                                    {
                                        "value": "ap-southeast-1",
                                        "label": "Singapore"
                                    },
                                    {
                                        "value": "ap-southeast-2",
                                        "label": "Sydney"
                                    },
                                    {
                                        "value": "ap-noutheast-1",
                                        "label": "Toyko"
                                    },
                                    {
                                        "value": "ca-central-1",
                                        "label": "Canada"
                                    },
                                    {
                                        "value": "eu-central-1",
                                        "label": "Frankfurt"
                                    },
                                    {
                                        "value": "eu-west-1",
                                        "label": "Ireland"
                                    },
                                    {
                                        "value": "eu-west-2",
                                        "label": "London"
                                    },
                                    {
                                        "value": "eu-west-3",
                                        "label": "Paris"
                                    },
                                    {
                                        "value": "eu-north-1",
                                        "label": "Stockholm"
                                    },
                                    {
                                        "value": "sa-east-1",
                                        "label": "South America"
                                    }
                                ]
                            }
                        ],
                        "widgets": [
                            {
                                "type": "metric",
                                "x": 12,
                                "y": 1,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{ContainerInsights,ClusterName} MetricName=\"cluster_failed_node_count\"', 'Sum', 60)),SUM, DESC)",
                                                "label": "${PROP('Dim.ClusterName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "legend": {
                                        "position": "bottom"
                                    },
                                    "title": "Cluster Failed Node Count",
                                    "yAxis": {
                                        "left": {
                                            "showUnits": true,
                                            "label": ""
                                        }
                                    },
                                    "region": "us-east-1",
                                    "liveData": false,
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "period": 300,
                                    "stat": "Average"
                                }
                            },
                            {
                                "type": "text",
                                "x": 0,
                                "y": 0,
                                "width": 24,
                                "height": 1,
                                "properties": {
                                    "markdown": "# Cluster-level Metrics",
                                    "background": "transparent"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 0,
                                "y": 1,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{ContainerInsights,ClusterName} MetricName=\"cluster_node_count\"', 'Maximum', 60)),MAX, DESC)",
                                                "label": "${PROP('Dim.ClusterName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "Cluster Node Count"
                                }
                            },
                            {
                                "type": "text",
                                "x": 0,
                                "y": 7,
                                "width": 24,
                                "height": 1,
                                "properties": {
                                    "markdown": "# Node-level Metrics",
                                    "background": "transparent"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 0,
                                "y": 8,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{ContainerInsights,ClusterName} MetricName=\"node_cpu_utilization\"', 'Maximum', 60)),MAX, DESC)",
                                                "label": "${PROP('Dim.ClusterName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "Node CPU Utilization (max)"
                                }
                            },
                            {
                                "type": "text",
                                "x": 0,
                                "y": 26,
                                "width": 24,
                                "height": 1,
                                "properties": {
                                    "markdown": "# Pod-level Metrics",
                                    "background": "transparent"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 12,
                                "y": 8,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{ContainerInsights,ClusterName} MetricName=\"node_filesystem_utilization\"', 'Maximum', 60)),MAX, DESC)",
                                                "label": "${PROP('Dim.ClusterName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "Node File System Utilization (max)"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 6,
                                "y": 8,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{ContainerInsights,ClusterName} MetricName=\"node_memory_utilization\"', 'Maximum', 60)),MAX, DESC)",
                                                "label": "${PROP('Dim.ClusterName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "Node Memory Utilization (max)"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 0,
                                "y": 27,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{ContainerInsights,ClusterName} MetricName=\"pod_cpu_utilization\"', 'Maximum', 60)),MAX, DESC)",
                                                "label": "${PROP('Dim.ClusterName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "Pod CPU Utilization (max)"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 6,
                                "y": 27,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{ContainerInsights,ClusterName} MetricName=\"pod_memory_utilization\"', 'Maximum', 60)),MAX, DESC)",
                                                "label": "${PROP('Dim.ClusterName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "Pod Memory Utilization (max)"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 0,
                                "y": 39,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{ContainerInsights,ClusterName} MetricName=\"node_number_of_running_pods\"', 'Sum', 60)),SUM, DESC)",
                                                "label": "${PROP('Dim.ClusterName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "No. of Running Pods per Node in Cluster"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 6,
                                "y": 39,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{ContainerInsights,ClusterName} MetricName=\"namespace_number_of_running_pods\"', 'Sum', 60)),SUM, DESC)",
                                                "label": "${PROP('Dim.ClusterName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "No. of Running Pods per Node in Namespace"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 12,
                                "y": 39,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{ContainerInsights,ClusterName} MetricName=\"service_number_of_running_pods\"', 'Sum', 60)),SUM, DESC)",
                                                "label": "${PROP('Dim.ClusterName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "No. of Running Pods per Service in Cluster"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 18,
                                "y": 8,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{ContainerInsights,ClusterName} MetricName=\"node_network_total_bytes\"', 'Sum', 60)),SUM, DESC)",
                                                "label": "${PROP('Dim.ClusterName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "Node Total Network Traffic (bytes)"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 0,
                                "y": 20,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{ContainerInsights,ClusterName} MetricName=\"node_number_of_running_containers\"', 'Sum', 60)),SUM, DESC)",
                                                "label": "${PROP('Dim.ClusterName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "No. Running Containers per Node"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 6,
                                "y": 45,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{ContainerInsights,ClusterName, Namespace} MetricName=\"namespace_number_of_running_pods\"', 'Sum', 60)),SUM, DESC)",
                                                "label": "${PROP('Dim.ClusterName')} ${PROP('Dim.Namespace')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "No. of Running Pods per Node in Namespace"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 0,
                                "y": 14,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{ContainerInsights,ClusterName,InstanceId,NodeName} MetricName=\"node_cpu_utilization\"', 'Maximum', 60)),MAX, DESC)",
                                                "label": "${PROP('Dim.ClusterName')} ${PROP('Dim.InstanceId')} ${PROP('Dim.NodeName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "Node CPU Utilization (max)"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 12,
                                "y": 14,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{ContainerInsights,ClusterName,InstanceId,NodeName} MetricName=\"node_filesystem_utilization\"', 'Maximum', 60)),MAX, DESC)",
                                                "label": "${PROP('Dim.ClusterName')} ${PROP('Dim.InstanceId')} ${PROP('Dim.NodeName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "Node File System Utilization (max)"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 6,
                                "y": 14,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{ContainerInsights,ClusterName,InstanceId,NodeName} MetricName=\"node_memory_utilization\"', 'Maximum', 60)),MAX, DESC)",
                                                "label": "${PROP('Dim.ClusterName')} ${PROP('Dim.InstanceId')} ${PROP('Dim.NodeName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "Node Memory Utilization (max)"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 18,
                                "y": 14,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{ContainerInsights,ClusterName,InstanceId,NodeName} MetricName=\"node_network_total_bytes\"', 'Sum', 60)),SUM, DESC)",
                                                "label": "${PROP('Dim.ClusterName')} ${PROP('Dim.InstanceId')} ${PROP('Dim.NodeName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "Node Total Network Traffic (bytes)"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 6,
                                "y": 20,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{ContainerInsights,ClusterName,InstanceId,NodeName} MetricName=\"node_number_of_running_containers\"', 'Sum', 60)),SUM, DESC)",
                                                "label": "${PROP('Dim.ClusterName')} ${PROP('Dim.InstanceId')} ${PROP('Dim.NodeName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "No. Running Containers per Node"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 0,
                                "y": 45,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{ContainerInsights,ClusterName,InstanceId,NodeName} MetricName=\"node_number_of_running_pods\"', 'Sum', 60)),SUM, DESC)",
                                                "label": "${PROP('Dim.ClusterName')} ${PROP('Dim.InstanceId')} ${PROP('Dim.NodeName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "No. of Running Pods per Node in Cluster"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 0,
                                "y": 33,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{ContainerInsights,ClusterName,Namespace,PodName} MetricName=\"pod_cpu_utilization\"', 'Maximum', 60)),MAX, DESC)",
                                                "label": "${PROP('Dim.ClusterName')} ${PROP('Dim.PodName')} ${PROP('Dim.Namespace')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "Pod CPU Utilization (max)"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 6,
                                "y": 33,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{ContainerInsights,ClusterName,PodName,Namespace} MetricName=\"pod_memory_utilization\"', 'Maximum', 60)),MAX, DESC)",
                                                "label": "${PROP('Dim.ClusterName')} ${PROP('Dim.PodName')} ${PROP('Dim.Namespace')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "Pod Memory Utilization (max)"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 12,
                                "y": 27,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{ContainerInsights,ClusterName} MetricName=\"pod_network_tx_bytes\"', 'Sum', 60)),SUM, DESC)",
                                                "label": "${PROP('Dim.ClusterName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "Pod Network TX Traffic (bytes)"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 18,
                                "y": 27,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{ContainerInsights,ClusterName} MetricName=\"pod_network_rx_bytes\"', 'Sum', 60)),SUM, DESC)",
                                                "label": "${PROP('Dim.ClusterName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "Pod Network RX Traffic (bytes)"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 12,
                                "y": 33,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{ContainerInsights,ClusterName,Namespace,PodName} MetricName=\"pod_network_tx_bytes\"', 'Sum', 60)),SUM, DESC)",
                                                "label": "${PROP('Dim.ClusterName')} ${PROP('Dim.PodName')} ${PROP('Dim.Namespace')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "Pod Network TX Traffic (bytes)"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 18,
                                "y": 33,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{ContainerInsights,ClusterName,PodName,Namespace} MetricName=\"pod_network_rx_bytes\"', 'Sum', 60)),SUM, DESC)",
                                                "label": "${PROP('Dim.ClusterName')} ${PROP('Dim.PodName')} ${PROP('Dim.Namespace')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "Pod Network RX Traffic (bytes)"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 12,
                                "y": 45,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{ContainerInsights,ClusterName,Service,Namespace} MetricName=\"service_number_of_running_pods\"', 'Sum', 60)),SUM, DESC)",
                                                "label": "${PROP('Dim.ClusterName')} ${PROP('Dim.Service')} ${PROP('Dim.Namespace')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "No. of Running Pods per Service in Cluster"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 6,
                                "y": 1,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{ContainerInsights,ClusterName} MetricName=\"cluster_node_count\"', 'Maximum', 60)),MAX, DESC)",
                                                "label": "${PROP('Dim.ClusterName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "singleValue",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "Cluster Node Count"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 18,
                                "y": 1,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{ContainerInsights,ClusterName} MetricName=\"cluster_failed_node_count\"', 'Sum', 60)),SUM, DESC)",
                                                "label": "${PROP('Dim.ClusterName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "legend": {
                                        "position": "bottom"
                                    },
                                    "title": "Cluster Failed Node Count",
                                    "yAxis": {
                                        "left": {
                                            "showUnits": true,
                                            "label": ""
                                        }
                                    },
                                    "region": "us-east-1",
                                    "liveData": false,
                                    "view": "singleValue",
                                    "stacked": false,
                                    "period": 300,
                                    "stat": "Average",
                                    "setPeriodToTimeRange": true,
                                    "sparkline": false
                                }
                            }
                        ]
                    }
                }
            }
        },
        "CWDashboardEKSIndividual": {
            "Type": "AWS::CloudWatch::Dashboard",
            "Properties": {
                "DashboardName": "EKS_Individual_Resources",
                "DashboardBody": {
                    "Fn::ToJsonString": {
                        "variables": [
                            {
                                "type": "property",
                                "property": "region",
                                "inputType": "select",
                                "id": "Region",
                                "label": "Region",
                                "defaultValue": {
                                    "Ref": "DefaultRegion"
                                },
                                "visible": true,
                                "values": [
                                    {
                                        "value": "us-east-1",
                                        "label": "N. Virginia"
                                    },
                                    {
                                        "value": "us-east-2",
                                        "label": "Ohio"
                                    },
                                    {
                                        "value": "us-west-1",
                                        "label": "N.California"
                                    },
                                    {
                                        "value": "us-west-2",
                                        "label": "Oregon"
                                    },
                                    {
                                        "value": "ap-east-1",
                                        "label": "Hong Kong"
                                    },
                                    {
                                        "value": "ap-south-1",
                                        "label": "Mumbai"
                                    },
                                    {
                                        "value": "ap-northeast-3",
                                        "label": "Osaka"
                                    },
                                    {
                                        "value": "ap-northeast-2",
                                        "label": "Seoul"
                                    },
                                    {
                                        "value": "ap-southeast-1",
                                        "label": "Singapore"
                                    },
                                    {
                                        "value": "ap-southeast-2",
                                        "label": "Sydney"
                                    },
                                    {
                                        "value": "ap-noutheast-1",
                                        "label": "Toyko"
                                    },
                                    {
                                        "value": "ca-central-1",
                                        "label": "Canada"
                                    },
                                    {
                                        "value": "eu-central-1",
                                        "label": "Frankfurt"
                                    },
                                    {
                                        "value": "eu-west-1",
                                        "label": "Ireland"
                                    },
                                    {
                                        "value": "eu-west-2",
                                        "label": "London"
                                    },
                                    {
                                        "value": "eu-west-3",
                                        "label": "Paris"
                                    },
                                    {
                                        "value": "eu-north-1",
                                        "label": "Stockholm"
                                    },
                                    {
                                        "value": "sa-east-1",
                                        "label": "South America"
                                    }
                                ]
                            },
                            {
                                "type": "property",
                                "property": "ClusterName",
                                "inputType": "select",
                                "id": "ClusterName",
                                "label": "ClusterName",
                                "defaultValue": {
                                    "Ref": "DefaultCluster"
                                },
                                "visible": true,
                                "inputPopulationType": "search",
                                "search": "{AWS/EKS,ClusterName}",
                                "populateFrom": "ClusterName"
                            }
                        ],
                        "widgets": [
                            {
                                "type": "metric",
                                "x": 12,
                                "y": 1,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{ContainerInsights,ClusterName} MetricName=\"cluster_failed_node_count\" ClusterName=\"ekscluster\"', 'Sum', 60)),SUM, DESC)",
                                                "label": "${PROP('Dim.ClusterName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "legend": {
                                        "position": "bottom"
                                    },
                                    "title": "Cluster Failed Node Count",
                                    "yAxis": {
                                        "left": {
                                            "showUnits": true,
                                            "label": ""
                                        }
                                    },
                                    "region": "us-east-1",
                                    "liveData": false,
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "period": 300,
                                    "stat": "Average"
                                }
                            },
                            {
                                "type": "text",
                                "x": 0,
                                "y": 0,
                                "width": 24,
                                "height": 1,
                                "properties": {
                                    "markdown": "# Cluster-level Metrics",
                                    "background": "transparent"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 0,
                                "y": 1,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{ContainerInsights,ClusterName} MetricName=\"cluster_node_count\" ClusterName=\"ekscluster\"', 'Maximum', 60)),MAX, DESC)",
                                                "label": "${PROP('Dim.ClusterName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "Cluster Node Count"
                                }
                            },
                            {
                                "type": "text",
                                "x": 0,
                                "y": 7,
                                "width": 24,
                                "height": 1,
                                "properties": {
                                    "markdown": "# Node-level Metrics",
                                    "background": "transparent"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 0,
                                "y": 8,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{ContainerInsights,ClusterName} MetricName=\"node_cpu_utilization\" ClusterName=\"ekscluster\"', 'Maximum', 60)),MAX, DESC)",
                                                "label": "${PROP('Dim.ClusterName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "Node CPU Utilization (max)"
                                }
                            },
                            {
                                "type": "text",
                                "x": 0,
                                "y": 26,
                                "width": 24,
                                "height": 1,
                                "properties": {
                                    "markdown": "# Pod-level Metrics",
                                    "background": "transparent"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 12,
                                "y": 8,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{ContainerInsights,ClusterName} MetricName=\"node_filesystem_utilization\" ClusterName=\"ekscluster\"', 'Maximum', 60)),MAX, DESC)",
                                                "label": "${PROP('Dim.ClusterName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "Node File System Utilization (max)"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 6,
                                "y": 8,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{ContainerInsights,ClusterName} MetricName=\"node_memory_utilization\" ClusterName=\"ekscluster\"', 'Maximum', 60)),MAX, DESC)",
                                                "label": "${PROP('Dim.ClusterName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "Node Memory Utilization (max)"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 0,
                                "y": 27,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{ContainerInsights,ClusterName} MetricName=\"pod_cpu_utilization\" ClusterName=\"ekscluster\"', 'Maximum', 60)),MAX, DESC)",
                                                "label": "${PROP('Dim.ClusterName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "Pod CPU Utilization (max)"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 6,
                                "y": 27,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{ContainerInsights,ClusterName} MetricName=\"pod_memory_utilization\" ClusterName=\"ekscluster\"', 'Maximum', 60)),MAX, DESC)",
                                                "label": "${PROP('Dim.ClusterName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "Pod Memory Utilization (max)"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 0,
                                "y": 39,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{ContainerInsights,ClusterName} MetricName=\"node_number_of_running_pods\" ClusterName=\"ekscluster\"', 'Sum', 60)),SUM, DESC)",
                                                "label": "${PROP('Dim.ClusterName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "No. of Running Pods per Node in Cluster"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 6,
                                "y": 39,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{ContainerInsights,ClusterName} MetricName=\"namespace_number_of_running_pods\" ClusterName=\"ekscluster\"', 'Sum', 60)),SUM, DESC)",
                                                "label": "${PROP('Dim.ClusterName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "No. of Running Pods per Node in Namespace"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 12,
                                "y": 39,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{ContainerInsights,ClusterName} MetricName=\"service_number_of_running_pods\" ClusterName=\"ekscluster\"', 'Sum', 60)),SUM, DESC)",
                                                "label": "${PROP('Dim.ClusterName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "No. of Running Pods per Service in Cluster"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 18,
                                "y": 8,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{ContainerInsights,ClusterName} MetricName=\"node_network_total_bytes\" ClusterName=\"ekscluster\"', 'Sum', 60)),SUM, DESC)",
                                                "label": "${PROP('Dim.ClusterName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "Node Total Network Traffic (bytes)"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 0,
                                "y": 20,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{ContainerInsights,ClusterName} MetricName=\"node_number_of_running_containers\" ClusterName=\"ekscluster\"', 'Sum', 60)),SUM, DESC)",
                                                "label": "${PROP('Dim.ClusterName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "No. Running Containers per Node"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 6,
                                "y": 45,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{ContainerInsights,ClusterName, Namespace} MetricName=\"namespace_number_of_running_pods\" ClusterName=\"ekscluster\"', 'Sum', 60)),SUM, DESC)",
                                                "label": "${PROP('Dim.Namespace')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "No. of Running Pods per Node in Namespace"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 0,
                                "y": 14,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{ContainerInsights,ClusterName,InstanceId,NodeName} MetricName=\"node_cpu_utilization\" ClusterName=\"ekscluster\"', 'Maximum', 60)),MAX, DESC)",
                                                "label": "${PROP('Dim.InstanceId')} ${PROP('Dim.NodeName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "Node CPU Utilization (max)"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 12,
                                "y": 14,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{ContainerInsights,ClusterName,InstanceId,NodeName} MetricName=\"node_filesystem_utilization\" ClusterName=\"ekscluster\"', 'Maximum', 60)),MAX, DESC)",
                                                "label": "${PROP('Dim.InstanceId')} ${PROP('Dim.NodeName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "Node File System Utilization (max)"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 6,
                                "y": 14,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{ContainerInsights,ClusterName,InstanceId,NodeName} MetricName=\"node_memory_utilization\" ClusterName=\"ekscluster\"', 'Maximum', 60)),MAX, DESC)",
                                                "label": "${PROP('Dim.InstanceId')} ${PROP('Dim.NodeName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "Node Memory Utilization (max)"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 18,
                                "y": 14,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{ContainerInsights,ClusterName,InstanceId,NodeName} MetricName=\"node_network_total_bytes\" ClusterName=\"ekscluster\"', 'Sum', 60)),SUM, DESC)",
                                                "label": "${PROP('Dim.InstanceId')} ${PROP('Dim.NodeName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "Node Total Network Traffic (bytes)"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 6,
                                "y": 20,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{ContainerInsights,ClusterName,InstanceId,NodeName} MetricName=\"node_number_of_running_containers\" ClusterName=\"ekscluster\"', 'Sum', 60)),SUM, DESC)",
                                                "label": "${PROP('Dim.InstanceId')} ${PROP('Dim.NodeName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "No. Running Containers per Node"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 0,
                                "y": 45,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{ContainerInsights,ClusterName,InstanceId,NodeName} MetricName=\"node_number_of_running_pods\" ClusterName=\"ekscluster\"', 'Sum', 60)),SUM, DESC)",
                                                "label": "${PROP('Dim.InstanceId')} ${PROP('Dim.NodeName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "No. of Running Pods per Node in Cluster"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 0,
                                "y": 33,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{ContainerInsights,ClusterName,Namespace,PodName} MetricName=\"pod_cpu_utilization\" ClusterName=\"ekscluster\"', 'Maximum', 60)),MAX, DESC)",
                                                "label": "${PROP('Dim.PodName')} ${PROP('Dim.Namespace')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "Pod CPU Utilization (max)"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 6,
                                "y": 33,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{ContainerInsights,ClusterName,PodName,Namespace} MetricName=\"pod_memory_utilization\" ClusterName=\"ekscluster\"', 'Maximum', 60)),MAX, DESC)",
                                                "label": "${PROP('Dim.PodName')} ${PROP('Dim.Namespace')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "Pod Memory Utilization (max)"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 12,
                                "y": 27,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{ContainerInsights,ClusterName} MetricName=\"pod_network_tx_bytes\" ClusterName=\"ekscluster\"', 'Sum', 60)),SUM, DESC)",
                                                "label": "${PROP('Dim.ClusterName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "Pod Network TX Traffic (bytes)"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 18,
                                "y": 27,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{ContainerInsights,ClusterName} MetricName=\"pod_network_rx_bytes\" ClusterName=\"ekscluster\"', 'Sum', 60)),SUM, DESC)",
                                                "label": "${PROP('Dim.ClusterName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "Pod Network RX Traffic (bytes)"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 12,
                                "y": 33,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{ContainerInsights,ClusterName,Namespace,PodName} MetricName=\"pod_network_tx_bytes\" ClusterName=\"ekscluster\"', 'Sum', 60)),SUM, DESC)",
                                                "label": "${PROP('Dim.PodName')} ${PROP('Dim.Namespace')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "Pod Network TX Traffic (bytes)"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 18,
                                "y": 33,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{ContainerInsights,ClusterName,PodName,Namespace} MetricName=\"pod_network_rx_bytes\" ClusterName=\"ekscluster\"', 'Sum', 60)),SUM, DESC)",
                                                "label": "${PROP('Dim.PodName')} ${PROP('Dim.Namespace')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "Pod Network RX Traffic (bytes)"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 12,
                                "y": 45,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{ContainerInsights,ClusterName,Service,Namespace} MetricName=\"service_number_of_running_pods\" ClusterName=\"ekscluster\"', 'Sum', 60)),SUM, DESC)",
                                                "label": "${PROP('Dim.Service')} ${PROP('Dim.Namespace')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "No. of Running Pods per Service in Cluster"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 6,
                                "y": 1,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{ContainerInsights,ClusterName} MetricName=\"cluster_node_count\" ClusterName=\"ekscluster\"', 'Maximum', 60)),MAX, DESC)",
                                                "label": "${PROP('Dim.ClusterName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "singleValue",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "Cluster Node Count"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 18,
                                "y": 1,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SORT(REMOVE_EMPTY(SEARCH('{ContainerInsights,ClusterName} MetricName=\"cluster_failed_node_count\" ClusterName=\"ekscluster\"', 'Sum', 60)),SUM, DESC)",
                                                "label": "${PROP('Dim.ClusterName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "legend": {
                                        "position": "bottom"
                                    },
                                    "title": "Cluster Failed Node Count",
                                    "yAxis": {
                                        "left": {
                                            "showUnits": true,
                                            "label": ""
                                        }
                                    },
                                    "region": "us-east-1",
                                    "liveData": false,
                                    "view": "singleValue",
                                    "stacked": false,
                                    "period": 300,
                                    "stat": "Average",
                                    "setPeriodToTimeRange": true,
                                    "sparkline": false
                                }
                            }
                        ]
                    }
                }
            }
        }
    }
}