{
    "AWSTemplateFormatVersion": "2010-09-09",
    "Description": "CloudWatch Dashboards to visualize EventBridge resources. Both dashboards leverage Dashboard Variables to filter on the desired resources. Dashboard 'EventBridge_All_Resources' visualizes ALL EventBridge rules in the target region. Dashboard 'EventBridge_Individual_Resources' provides additional filters to isolate a specific rule.",
    "Transform": "AWS::LanguageExtensions",
    "Parameters": {
        "DefaultRegion": {
            "Description": "Select the default region hosting the load balancers to be monitored.",
            "Type": "String",
            "Default": "us-east-1"
        },
        "DefaultRuleName": {
            "Description": "Optional. Select the default EventBridge Rule to be monitored.",
            "Type": "String",
            "Default": ""
        }
    },
    "Resources": {
        "CWDashboardEBAll": {
            "Type": "AWS::CloudWatch::Dashboard",
            "Properties": {
                "DashboardName": "EventBridge_All_Resource",
                "DashboardBody": {
                    "Fn::ToJsonString": {
                        "variables": [
                            {
                                "type": "pattern",
                                "pattern": "us-east-1",
                                "inputType": "select",
                                "id": "Region",
                                "label": "Region",
                                "defaultValue": "us-east-1",
                                "visible": true,
                                "values": [
                                    {
                                        "value": "us-east-1",
                                        "label": "N. Virginia"
                                    },
                                    {
                                        "value": "us-east-2",
                                        "label": "Ohio"
                                    },
                                    {
                                        "value": "us-west-1",
                                        "label": "N.California"
                                    },
                                    {
                                        "value": "us-west-2",
                                        "label": "Oregon"
                                    },
                                    {
                                        "value": "ap-east-1",
                                        "label": "Hong Kong"
                                    },
                                    {
                                        "value": "ap-south-1",
                                        "label": "Mumbai"
                                    },
                                    {
                                        "value": "ap-northeast-3",
                                        "label": "Osaka"
                                    },
                                    {
                                        "value": "ap-northeast-2",
                                        "label": "Seoul"
                                    },
                                    {
                                        "value": "ap-southeast-1",
                                        "label": "Singapore"
                                    },
                                    {
                                        "value": "ap-southeast-2",
                                        "label": "Sydney"
                                    },
                                    {
                                        "value": "ap-noutheast-1",
                                        "label": "Toyko"
                                    },
                                    {
                                        "value": "ca-central-1",
                                        "label": "Canada"
                                    },
                                    {
                                        "value": "eu-central-1",
                                        "label": "Frankfurt"
                                    },
                                    {
                                        "value": "eu-west-1",
                                        "label": "Ireland"
                                    },
                                    {
                                        "value": "eu-west-2",
                                        "label": "London"
                                    },
                                    {
                                        "value": "eu-west-3",
                                        "label": "Paris"
                                    },
                                    {
                                        "value": "eu-north-1",
                                        "label": "Stockholm"
                                    },
                                    {
                                        "value": "sa-east-1",
                                        "label": "South America"
                                    }
                                ],
                                "value": "us-east-1",
                                "customValues": "us-east-1, N. Virginia\nus-east-2, Ohio\nus-west-1, N.California\nca-central-1, Canada\nus-west-2, Oregon\neu-west-1, Ireland\neu-west-2, London\neu-central-1, Frankfurt"
                            }
                        ],
                        "widgets": [
                            {
                                "type": "text",
                                "x": 0,
                                "y": 0,
                                "width": 24,
                                "height": 1,
                                "properties": {
                                    "markdown": "# Error Metrics",
                                    "background": "transparent"
                                }
                            },
                            {
                                "type": "text",
                                "x": 0,
                                "y": 17,
                                "width": 24,
                                "height": 1,
                                "properties": {
                                    "markdown": "# Rule Metrics",
                                    "background": "transparent"
                                }
                            },
                            {
                                "type": "text",
                                "x": 0,
                                "y": 64,
                                "width": 24,
                                "height": 1,
                                "properties": {
                                    "markdown": "# Latency Metrics (Account-Level)",
                                    "background": "transparent"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 0,
                                "y": 91,
                                "width": 8,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SEARCH('{AWS/Events,RuleName} MetricName=\"Events\" RuleName=\"rule1\"', 'Sum', 60)",
                                                "label": "${PROP('Dim.RuleName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "Partner Events",
                                    "setPeriodToTimeRange": true,
                                    "sparkline": false
                                }
                            },
                            {
                                "type": "text",
                                "x": 0,
                                "y": 55,
                                "width": 24,
                                "height": 1,
                                "properties": {
                                    "markdown": "# Dead Letter Queue Metrics",
                                    "background": "transparent"
                                }
                            },
                            {
                                "type": "text",
                                "x": 0,
                                "y": 34,
                                "width": 24,
                                "height": 1,
                                "properties": {
                                    "markdown": "# Target Invocation Metrics",
                                    "background": "transparent"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 0,
                                "y": 18,
                                "width": 6,
                                "height": 8,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "REMOVE_EMPTY(SORT(SEARCH('{AWS/Events,RuleName} MetricName=\"TriggeredRules\"', 'Sum', 60), SUM, DESC))",
                                                "label": "${PROP('Dim.RuleName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "pie",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "TriggeredRules",
                                    "setPeriodToTimeRange": true,
                                    "sparkline": false
                                }
                            },
                            {
                                "type": "metric",
                                "x": 0,
                                "y": 35,
                                "width": 6,
                                "height": 8,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "REMOVE_EMPTY(SORT(SEARCH('{AWS/Events,RuleName} MetricName=\"Invocations\"', 'Sum', 60), SUM, DESC))",
                                                "label": "${PROP('Dim.RuleName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "pie",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "Invocations",
                                    "setPeriodToTimeRange": true,
                                    "sparkline": false
                                }
                            },
                            {
                                "type": "metric",
                                "x": 0,
                                "y": 78,
                                "width": 8,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            "AWS/Events",
                                            "PutEventsApproximateCallCount",
                                            {
                                                "region": "us-east-1"
                                            }
                                        ],
                                        [
                                            ".",
                                            "PutEventsApproximateSuccessCount",
                                            {
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "period": 60,
                                    "region": "us-east-1",
                                    "stacked": false,
                                    "title": "PutEvents call volume",
                                    "view": "timeSeries",
                                    "stat": "Sum"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 8,
                                "y": 78,
                                "width": 8,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            "AWS/Events",
                                            "PutEventsApproximateFailedCount",
                                            {
                                                "stat": "Sum",
                                                "region": "us-east-1"
                                            }
                                        ],
                                        [
                                            ".",
                                            "PutEventsApproximateThrottledCount",
                                            {
                                                "stat": "Sum",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "period": 300,
                                    "region": "us-east-1",
                                    "stacked": false,
                                    "title": "Failed PutEvents requests",
                                    "view": "timeSeries"
                                }
                            },
                            {
                                "type": "text",
                                "x": 0,
                                "y": 77,
                                "width": 24,
                                "height": 1,
                                "properties": {
                                    "markdown": "# Custom Events",
                                    "background": "transparent"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 0,
                                "y": 65,
                                "width": 8,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            "AWS/Events",
                                            "IngestionToInvocationStartLatency",
                                            {
                                                "stat": "p99",
                                                "region": "us-east-1"
                                            }
                                        ],
                                        [
                                            "...",
                                            {
                                                "stat": "p90",
                                                "region": "us-east-1"
                                            }
                                        ],
                                        [
                                            "...",
                                            {
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "period": 60,
                                    "region": "us-east-1",
                                    "stacked": false,
                                    "title": "IngestionToInvocationStartLatency",
                                    "view": "timeSeries",
                                    "stat": "p50"
                                }
                            },
                            {
                                "type": "text",
                                "x": 0,
                                "y": 84,
                                "width": 24,
                                "height": 1,
                                "properties": {
                                    "markdown": "# Partner Events",
                                    "background": "transparent"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 0,
                                "y": 85,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            "AWS/Events",
                                            "PutPartnerEventsApproximateCallCount",
                                            {
                                                "stat": "Sum",
                                                "region": "us-east-1"
                                            }
                                        ],
                                        [
                                            ".",
                                            "PutPartnerEventsApproximateSuccessCount",
                                            {
                                                "stat": "Sum",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "period": 300,
                                    "region": "us-east-1",
                                    "stacked": false,
                                    "title": "PutPartnerEvents call volume",
                                    "view": "timeSeries"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 6,
                                "y": 85,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            "AWS/Events",
                                            "PutPartnerEventsApproximateFailedCount",
                                            {
                                                "stat": "Sum",
                                                "region": "us-east-1"
                                            }
                                        ],
                                        [
                                            ".",
                                            "PutPartnerEventsApproximateThrottledCount",
                                            {
                                                "stat": "Sum",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "period": 300,
                                    "region": "us-east-1",
                                    "stacked": false,
                                    "title": "Failed PutPartnerEvents requests",
                                    "view": "timeSeries"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 12,
                                "y": 85,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            "AWS/Events",
                                            "PutPartnerEventsLatency",
                                            {
                                                "stat": "p99",
                                                "region": "us-east-1"
                                            }
                                        ],
                                        [
                                            "...",
                                            {
                                                "stat": "p90",
                                                "region": "us-east-1"
                                            }
                                        ],
                                        [
                                            "...",
                                            {
                                                "stat": "p50",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "period": 300,
                                    "region": "us-east-1",
                                    "stacked": false,
                                    "title": "PutPartnerEvents latency",
                                    "view": "timeSeries"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 6,
                                "y": 18,
                                "width": 18,
                                "height": 8,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "REMOVE_EMPTY(SORT(SEARCH('{AWS/Events,RuleName} MetricName=\"TriggeredRules\"', 'Sum', 60), SUM, DESC))",
                                                "label": "${PROP('Dim.RuleName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "TriggeredRules",
                                    "setPeriodToTimeRange": true,
                                    "sparkline": false
                                }
                            },
                            {
                                "type": "metric",
                                "x": 0,
                                "y": 26,
                                "width": 6,
                                "height": 8,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "REMOVE_EMPTY(SORT(SEARCH('{AWS/Events,RuleName} MetricName=\"MatchedEvents\"', 'Sum', 60), SUM, DESC))",
                                                "label": "${PROP('Dim.RuleName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "pie",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "MatchedEvents",
                                    "setPeriodToTimeRange": true,
                                    "sparkline": false
                                }
                            },
                            {
                                "type": "metric",
                                "x": 6,
                                "y": 26,
                                "width": 18,
                                "height": 8,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "REMOVE_EMPTY(SORT(SEARCH('{AWS/Events,RuleName} MetricName=\"MatchedEvents\"', 'Sum', 60), SUM, DESC))",
                                                "label": "${PROP('Dim.RuleName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "MatchedEvents",
                                    "setPeriodToTimeRange": true,
                                    "sparkline": false
                                }
                            },
                            {
                                "type": "metric",
                                "x": 6,
                                "y": 35,
                                "width": 18,
                                "height": 8,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "REMOVE_EMPTY(SORT(SEARCH('{AWS/Events,RuleName} MetricName=\"Invocations\"', 'Sum', 60), SUM, DESC))",
                                                "label": "${PROP('Dim.RuleName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "Invocations",
                                    "setPeriodToTimeRange": true,
                                    "sparkline": false
                                }
                            },
                            {
                                "type": "metric",
                                "x": 16,
                                "y": 43,
                                "width": 8,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "REMOVE_EMPTY(SORT(SEARCH('{AWS/Events,RuleName} MetricName=\"RetryInvocationAttempts\"', 'Sum', 60), SUM, DESC))",
                                                "label": "${PROP('Dim.RuleName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "RetryInvocationAttempts",
                                    "setPeriodToTimeRange": true,
                                    "sparkline": false
                                }
                            },
                            {
                                "type": "metric",
                                "x": 0,
                                "y": 43,
                                "width": 8,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "REMOVE_EMPTY(SORT(SEARCH('{AWS/Events,RuleName} MetricName=\"InvocationAttempts\"', 'Sum', 60), SUM, DESC))",
                                                "label": "${PROP('Dim.RuleName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "InvocationAttempts",
                                    "setPeriodToTimeRange": true,
                                    "sparkline": false
                                }
                            },
                            {
                                "type": "metric",
                                "x": 8,
                                "y": 43,
                                "width": 8,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "REMOVE_EMPTY(SORT(SEARCH('{AWS/Events,RuleName} MetricName=\"SuccessfulInvocationAttempts\"', 'Sum', 60), SUM, DESC))",
                                                "label": "${PROP('Dim.RuleName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "SuccessfulInvocationAttempts",
                                    "setPeriodToTimeRange": true,
                                    "sparkline": false
                                }
                            },
                            {
                                "type": "metric",
                                "x": 0,
                                "y": 56,
                                "width": 6,
                                "height": 8,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "REMOVE_EMPTY(SORT(SEARCH('{AWS/Events,RuleName} MetricName=\"DeadLetterInvocations\"', 'Sum', 60), SUM, DESC))",
                                                "label": "${PROP('Dim.RuleName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "pie",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "DeadLetterInvocations",
                                    "setPeriodToTimeRange": true,
                                    "sparkline": false
                                }
                            },
                            {
                                "type": "metric",
                                "x": 6,
                                "y": 56,
                                "width": 18,
                                "height": 8,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "REMOVE_EMPTY(SORT(SEARCH('{AWS/Events,RuleName} MetricName=\"DeadLetterInvocations\"', 'Sum', 60), SUM, DESC))",
                                                "label": "${PROP('Dim.RuleName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "DeadLetterInvocations",
                                    "setPeriodToTimeRange": true,
                                    "sparkline": false
                                }
                            },
                            {
                                "type": "metric",
                                "x": 0,
                                "y": 49,
                                "width": 8,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "REMOVE_EMPTY(SORT(SEARCH('{AWS/Events,RuleName} MetricName=\"InvocationsSentToDlq\"', 'Sum', 60), SUM, DESC))",
                                                "label": "${PROP('Dim.RuleName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "InvocationsSentToDlq",
                                    "setPeriodToTimeRange": true,
                                    "sparkline": false
                                }
                            },
                            {
                                "type": "metric",
                                "x": 8,
                                "y": 49,
                                "width": 8,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "REMOVE_EMPTY(SORT(SEARCH('{AWS/Events,RuleName} MetricName=\"InvocationsFailedToBeSentToDlq\"', 'Sum', 60), SUM, DESC))",
                                                "label": "${PROP('Dim.RuleName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "InvocationsFailedToBeSentToDlq",
                                    "setPeriodToTimeRange": true,
                                    "sparkline": false
                                }
                            },
                            {
                                "type": "metric",
                                "x": 16,
                                "y": 71,
                                "width": 8,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "REMOVE_EMPTY(SEARCH('{AWS/Events,RuleName} MetricName=\"IngestionToInvocationSuccessLatency\"', 'p90', 60))",
                                                "label": "${PROP('Dim.RuleName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "IngestionToInvocationSuccessLatency (p90))",
                                    "setPeriodToTimeRange": true,
                                    "sparkline": false
                                }
                            },
                            {
                                "type": "metric",
                                "x": 8,
                                "y": 65,
                                "width": 8,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            "AWS/Events",
                                            "IngestionToInvocationCompleteLatency",
                                            {
                                                "stat": "p99",
                                                "region": "us-east-1"
                                            }
                                        ],
                                        [
                                            "...",
                                            {
                                                "stat": "p90",
                                                "region": "us-east-1"
                                            }
                                        ],
                                        [
                                            "...",
                                            {
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "period": 60,
                                    "region": "us-east-1",
                                    "stacked": false,
                                    "title": "IngestionToInvocationCompleteLatency",
                                    "view": "timeSeries",
                                    "stat": "p50"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 16,
                                "y": 65,
                                "width": 8,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            "AWS/Events",
                                            "IngestionToInvocationSuccessLatency",
                                            {
                                                "stat": "p99",
                                                "region": "us-east-1"
                                            }
                                        ],
                                        [
                                            "...",
                                            {
                                                "stat": "p90",
                                                "region": "us-east-1"
                                            }
                                        ],
                                        [
                                            "...",
                                            {
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "period": 60,
                                    "region": "us-east-1",
                                    "stacked": false,
                                    "title": "IngestionToInvocationSuccessLatency",
                                    "view": "timeSeries",
                                    "stat": "p50"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 8,
                                "y": 71,
                                "width": 8,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "REMOVE_EMPTY(SEARCH('{AWS/Events,RuleName} MetricName=\"IngestionToInvocationCompleteLatency\"', 'p90', 60))",
                                                "label": "${PROP('Dim.RuleName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "IngestionToInvocationCompleteLatency (p90)",
                                    "setPeriodToTimeRange": true,
                                    "sparkline": false
                                }
                            },
                            {
                                "type": "metric",
                                "x": 0,
                                "y": 71,
                                "width": 8,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "REMOVE_EMPTY(SEARCH('{AWS/Events,RuleName} MetricName=\"IngestionToInvocationStartLatency\"', 'p90', 60))",
                                                "label": "${PROP('Dim.RuleName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "IngestionToInvocationStartLatency  (p90))",
                                    "setPeriodToTimeRange": true,
                                    "sparkline": false
                                }
                            },
                            {
                                "type": "metric",
                                "x": 0,
                                "y": 1,
                                "width": 6,
                                "height": 8,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "REMOVE_EMPTY(SORT(SEARCH('{AWS/Events,RuleName} MetricName=\"FailedInvocations\"', 'Sum', 60), SUM, DESC))",
                                                "label": "${PROP('Dim.RuleName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "pie",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "FailedInvocations",
                                    "setPeriodToTimeRange": true,
                                    "sparkline": false
                                }
                            },
                            {
                                "type": "metric",
                                "x": 6,
                                "y": 1,
                                "width": 18,
                                "height": 8,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "REMOVE_EMPTY(SORT(SEARCH('{AWS/Events,RuleName} MetricName=\"FailedInvocations\"', 'Sum', 60), SUM, DESC))",
                                                "label": "${PROP('Dim.RuleName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "FailedInvocations",
                                    "setPeriodToTimeRange": true,
                                    "sparkline": false
                                }
                            },
                            {
                                "type": "metric",
                                "x": 0,
                                "y": 9,
                                "width": 6,
                                "height": 8,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "REMOVE_EMPTY(SORT(SEARCH('{AWS/Events,RuleName} MetricName=\"ThrottledRules\"', 'Sum', 60), SUM, DESC))",
                                                "label": "${PROP('Dim.RuleName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "pie",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "ThrottledRules",
                                    "setPeriodToTimeRange": true,
                                    "sparkline": false
                                }
                            },
                            {
                                "type": "metric",
                                "x": 6,
                                "y": 9,
                                "width": 18,
                                "height": 8,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "REMOVE_EMPTY(SORT(SEARCH('{AWS/Events,RuleName} MetricName=\"ThrottledRules\"', 'Sum', 60), SUM, DESC))",
                                                "label": "${PROP('Dim.RuleName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "ThrottledRules",
                                    "setPeriodToTimeRange": true,
                                    "sparkline": false
                                }
                            }
                        ]
                    }
                }
            }
        },
        "CWDashboardEBIndividual": {
            "Type": "AWS::CloudWatch::Dashboard",
            "Properties": {
                "DashboardName": "EventBridge_Individual_Resource",
                "DashboardBody": {
                    "Fn::ToJsonString": {
                        "variables": [
                            {
                                "type": "pattern",
                                "pattern": "us-east-1",
                                "inputType": "select",
                                "id": "Region",
                                "label": "Region",
                                "defaultValue": {
                                    "Ref": "DefaultRegion"
                                },
                                "visible": true,
                                "values": [
                                    {
                                        "value": "us-east-1",
                                        "label": "N. Virginia"
                                    },
                                    {
                                        "value": "us-east-2",
                                        "label": "Ohio"
                                    },
                                    {
                                        "value": "us-west-1",
                                        "label": "N.California"
                                    },
                                    {
                                        "value": "us-west-2",
                                        "label": "Oregon"
                                    },
                                    {
                                        "value": "ap-east-1",
                                        "label": "Hong Kong"
                                    },
                                    {
                                        "value": "ap-south-1",
                                        "label": "Mumbai"
                                    },
                                    {
                                        "value": "ap-northeast-3",
                                        "label": "Osaka"
                                    },
                                    {
                                        "value": "ap-northeast-2",
                                        "label": "Seoul"
                                    },
                                    {
                                        "value": "ap-southeast-1",
                                        "label": "Singapore"
                                    },
                                    {
                                        "value": "ap-southeast-2",
                                        "label": "Sydney"
                                    },
                                    {
                                        "value": "ap-noutheast-1",
                                        "label": "Toyko"
                                    },
                                    {
                                        "value": "ca-central-1",
                                        "label": "Canada"
                                    },
                                    {
                                        "value": "eu-central-1",
                                        "label": "Frankfurt"
                                    },
                                    {
                                        "value": "eu-west-1",
                                        "label": "Ireland"
                                    },
                                    {
                                        "value": "eu-west-2",
                                        "label": "London"
                                    },
                                    {
                                        "value": "eu-west-3",
                                        "label": "Paris"
                                    },
                                    {
                                        "value": "eu-north-1",
                                        "label": "Stockholm"
                                    },
                                    {
                                        "value": "sa-east-1",
                                        "label": "South America"
                                    }
                                ],
                                "value": "us-east-1",
                                "customValues": "us-east-1, N. Virginia\nus-east-2, Ohio\nus-west-1, N.California\nca-central-1, Canada\nus-west-2, Oregon\neu-west-1, Ireland\neu-west-2, London\neu-central-1, Frankfurt"
                            },
                            {
                                "type": "property",
                                "property": "RuleName",
                                "inputType": "select",
                                "id": "RuleName",
                                "label": "RuleName",
                                "defaultValue": {
                                    "Ref": "DefaultRuleName"
                                },
                                "visible": true,
                                "search": "{AWS/Events,RuleName} MetricName=Invocations",
                                "populateFrom": "RuleName"
                            }
                        ],
                        "widgets": [
                            {
                                "type": "text",
                                "x": 0,
                                "y": 0,
                                "width": 24,
                                "height": 1,
                                "properties": {
                                    "markdown": "# Error Metrics",
                                    "background": "transparent"
                                }
                            },
                            {
                                "type": "text",
                                "x": 0,
                                "y": 15,
                                "width": 24,
                                "height": 1,
                                "properties": {
                                    "markdown": "# Traffic Volume Metrics",
                                    "background": "transparent"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 5,
                                "y": 16,
                                "width": 19,
                                "height": 7,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SEARCH('{AWS/Events,RuleName} MetricName=\"TriggeredRules\" RuleName=\"rule1\"', 'Sum', 60)",
                                                "label": "${PROP('Dim.RuleName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "TriggeredRules",
                                    "setPeriodToTimeRange": true,
                                    "sparkline": false
                                }
                            },
                            {
                                "type": "metric",
                                "x": 0,
                                "y": 23,
                                "width": 12,
                                "height": 7,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SEARCH('{AWS/Events,RuleName} MetricName=\"MatchedEvents\" RuleName=\"rule1\"', 'Sum', 60)",
                                                "label": "${PROP('Dim.RuleName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "MatchedEvents",
                                    "setPeriodToTimeRange": true,
                                    "sparkline": false
                                }
                            },
                            {
                                "type": "metric",
                                "x": 5,
                                "y": 31,
                                "width": 18,
                                "height": 7,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SEARCH('{AWS/Events,RuleName} MetricName=\"Invocations\" RuleName=\"rule1\"', 'Sum', 60)",
                                                "label": "${PROP('Dim.RuleName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "Invocations",
                                    "setPeriodToTimeRange": true,
                                    "sparkline": false
                                }
                            },
                            {
                                "type": "metric",
                                "x": 8,
                                "y": 38,
                                "width": 8,
                                "height": 7,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SEARCH('{AWS/Events,RuleName} MetricName=\"InvocationAttempts\" RuleName=\"rule1\"', 'Sum', 60)",
                                                "label": "${PROP('Dim.RuleName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "InvocationAttempts",
                                    "setPeriodToTimeRange": true,
                                    "sparkline": false
                                }
                            },
                            {
                                "type": "metric",
                                "x": 16,
                                "y": 38,
                                "width": 8,
                                "height": 7,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SEARCH('{AWS/Events,RuleName} MetricName=\"SuccessfulInvocationAttempts\" RuleName=\"rule1\"', 'Sum', 60)",
                                                "label": "${PROP('Dim.RuleName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "SuccessfulInvocationAttempts",
                                    "setPeriodToTimeRange": true,
                                    "sparkline": false
                                }
                            },
                            {
                                "type": "metric",
                                "x": 0,
                                "y": 61,
                                "width": 8,
                                "height": 7,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SEARCH('{AWS/Events,RuleName} MetricName=\"IngestionToInvocationSuccessLatency\" RuleName=\"rule1\"', 'Average', 60)",
                                                "label": "${PROP('Dim.RuleName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "IngestionToInvocationSuccessLatency",
                                    "setPeriodToTimeRange": true,
                                    "sparkline": false
                                }
                            },
                            {
                                "type": "text",
                                "x": 0,
                                "y": 60,
                                "width": 24,
                                "height": 1,
                                "properties": {
                                    "markdown": "# Latency Metrics",
                                    "background": "transparent"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 8,
                                "y": 61,
                                "width": 8,
                                "height": 7,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SEARCH('{AWS/Events,RuleName} MetricName=\"IngestionToInvocationStartLatency\" RuleName=\"rule1\"', 'Average', 60)",
                                                "label": "${PROP('Dim.RuleName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "IngestionToInvocationStartLatency",
                                    "setPeriodToTimeRange": true,
                                    "sparkline": false
                                }
                            },
                            {
                                "type": "metric",
                                "x": 16,
                                "y": 61,
                                "width": 8,
                                "height": 7,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SEARCH('{AWS/Events,RuleName} MetricName=\"IngestionToInvocationCompleteLatency\" RuleName=\"rule1\"', 'Average', 60)",
                                                "label": "${PROP('Dim.RuleName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "IngestionToInvocationCompleteLatency",
                                    "setPeriodToTimeRange": true,
                                    "sparkline": false
                                }
                            },
                            {
                                "type": "metric",
                                "x": 5,
                                "y": 46,
                                "width": 19,
                                "height": 7,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SEARCH('{AWS/Events,RuleName} MetricName=\"DeadLetterInvocations\" RuleName=\"rule1\"', 'Sum', 60)",
                                                "label": "${PROP('Dim.RuleName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "DeadLetterInvocations",
                                    "setPeriodToTimeRange": true,
                                    "sparkline": false
                                }
                            },
                            {
                                "type": "metric",
                                "x": 12,
                                "y": 23,
                                "width": 12,
                                "height": 7,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SEARCH('{AWS/Events,RuleName} MetricName=\"Events\" RuleName=\"rule1\"', 'Sum', 60)",
                                                "label": "${PROP('Dim.RuleName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "Partner Events",
                                    "setPeriodToTimeRange": true,
                                    "sparkline": false
                                }
                            },
                            {
                                "type": "metric",
                                "x": 0,
                                "y": 53,
                                "width": 12,
                                "height": 7,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SEARCH('{AWS/Events,RuleName} MetricName=\"InvocationsSentToDlq\" RuleName=\"rule1\"', 'Sum', 60)",
                                                "label": "${PROP('Dim.RuleName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "InvocationsSentToDlq",
                                    "setPeriodToTimeRange": true,
                                    "sparkline": false
                                }
                            },
                            {
                                "type": "metric",
                                "x": 12,
                                "y": 53,
                                "width": 12,
                                "height": 7,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SEARCH('{AWS/Events,RuleName} MetricName=\"InvocationsFailedToBeSentToDlq\" RuleName=\"rule1\"', 'Sum', 60)",
                                                "label": "${PROP('Dim.RuleName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "InvocationsFailedToBeSentToDlq",
                                    "setPeriodToTimeRange": true,
                                    "sparkline": false
                                }
                            },
                            {
                                "type": "metric",
                                "x": 5,
                                "y": 1,
                                "width": 19,
                                "height": 7,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SEARCH('{AWS/Events,RuleName} MetricName=\"FailedInvocations\" RuleName=\"rule1\"', 'Sum', 60)",
                                                "label": "${PROP('Dim.RuleName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "FailedInvocations",
                                    "setPeriodToTimeRange": true,
                                    "sparkline": false
                                }
                            },
                            {
                                "type": "metric",
                                "x": 5,
                                "y": 8,
                                "width": 19,
                                "height": 7,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SEARCH('{AWS/Events,RuleName} MetricName=\"ThrottledRules\" RuleName=\"rule1\"', 'Sum', 60)",
                                                "label": "${PROP('Dim.RuleName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "ThrottledRules",
                                    "setPeriodToTimeRange": true,
                                    "sparkline": false
                                }
                            },
                            {
                                "type": "text",
                                "x": 0,
                                "y": 45,
                                "width": 24,
                                "height": 1,
                                "properties": {
                                    "markdown": "# Dead Letter Queue Metrics",
                                    "background": "transparent"
                                }
                            },
                            {
                                "type": "text",
                                "x": 0,
                                "y": 30,
                                "width": 24,
                                "height": 1,
                                "properties": {
                                    "markdown": "# Target Invocation Metrics",
                                    "background": "transparent"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 0,
                                "y": 1,
                                "width": 5,
                                "height": 7,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SEARCH('{AWS/Events,RuleName} MetricName=\"FailedInvocations\" RuleName=\"rule1\"', 'Sum', 60)",
                                                "label": "${PROP('Dim.RuleName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "singleValue",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "FailedInvocations",
                                    "setPeriodToTimeRange": true,
                                    "sparkline": false
                                }
                            },
                            {
                                "type": "metric",
                                "x": 0,
                                "y": 8,
                                "width": 5,
                                "height": 7,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SEARCH('{AWS/Events,RuleName} MetricName=\"ThrottledRules\" RuleName=\"rule1\"', 'Sum', 60)",
                                                "label": "${PROP('Dim.RuleName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "singleValue",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "ThrottledRules",
                                    "setPeriodToTimeRange": true,
                                    "sparkline": false
                                }
                            },
                            {
                                "type": "metric",
                                "x": 0,
                                "y": 38,
                                "width": 8,
                                "height": 7,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SEARCH('{AWS/Events,RuleName} MetricName=\"RetryInvocationAttempts\" RuleName=\"rule1\"', 'Sum', 60)",
                                                "label": "${PROP('Dim.RuleName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "RetryInvocationAttempts",
                                    "setPeriodToTimeRange": true,
                                    "sparkline": false
                                }
                            },
                            {
                                "type": "metric",
                                "x": 0,
                                "y": 16,
                                "width": 5,
                                "height": 7,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SEARCH('{AWS/Events,RuleName} MetricName=\"TriggeredRules\" RuleName=\"rule1\"', 'Sum', 60)",
                                                "label": "${PROP('Dim.RuleName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "singleValue",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "TriggeredRules",
                                    "setPeriodToTimeRange": true,
                                    "sparkline": false
                                }
                            },
                            {
                                "type": "metric",
                                "x": 0,
                                "y": 31,
                                "width": 5,
                                "height": 7,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SEARCH('{AWS/Events,RuleName} MetricName=\"Invocations\" RuleName=\"rule1\"', 'Sum', 60)",
                                                "label": "${PROP('Dim.RuleName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "singleValue",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "Invocations",
                                    "setPeriodToTimeRange": true,
                                    "sparkline": false
                                }
                            },
                            {
                                "type": "metric",
                                "x": 0,
                                "y": 46,
                                "width": 5,
                                "height": 7,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "SEARCH('{AWS/Events,RuleName} MetricName=\"DeadLetterInvocations\" RuleName=\"rule1\"', 'Sum', 60)",
                                                "label": "${PROP('Dim.RuleName')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "singleValue",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "DeadLetterInvocations",
                                    "setPeriodToTimeRange": true,
                                    "sparkline": false
                                }
                            }
                        ]
                    }
                }
            }
        }
    }
}