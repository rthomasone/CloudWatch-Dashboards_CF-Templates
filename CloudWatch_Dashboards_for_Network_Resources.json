{
    "AWSTemplateFormatVersion": "2010-09-09",
    "Description": "CloudWatch Dashboards to visualize AWS Network resources. All dashboards leverage Dashboard Variables to filter on a specific region and resource.",
    "Resources": {
        "CWDashboardALBAll": {
            "Type": "AWS::CloudWatch::Dashboard",
            "Properties": {
                "DashboardName": "ALB_All_Resources",
                "DashboardBody": {
                    "Fn::Join": [
                        "",
                        [
                            "{\n    \"variables\": [\n        {\n            \"type\": \"pattern\",\n            \"pattern\": \"us-east-1\",\n            \"inputType\": \"select\",\n            \"id\": \"Region\",\n            \"label\": \"Region\",\n            \"defaultValue\": \"us-east-1\",\n            \"visible\": true,\n            \"values\": [\n                {\n                    \"value\": \"us-east-1\",\n                    \"label\": \"N. Virginia\"\n                },\n                {\n                    \"value\": \"us-east-2\",\n                    \"label\": \"Ohio\"\n                },\n                {\n                    \"value\": \"us-west-1\",\n                    \"label\": \"N.California\"\n                },\n                {\n                    \"value\": \"ca-central-1\",\n                    \"label\": \"Canada\"\n                },\n                {\n                    \"value\": \"us-west-2\",\n                    \"label\": \"Oregon\"\n                },\n                {\n                    \"value\": \"eu-west-1\",\n                    \"label\": \"Ireland\"\n                },\n                {\n                    \"value\": \"eu-west-2\",\n                    \"label\": \"London\"\n                },\n                {\n                    \"value\": \"eu-central-1\",\n                    \"label\": \"Frankfurt\"\n                }\n            ],\n            \"value\": \"us-east-1\",\n            \"customValues\": \"us-east-1, N. Virginia\nus-east-2, Ohio\nus-west-1, N.California\nca-central-1, Canada\nus-west-2, Oregon\neu-west-1, Ireland\neu-west-2, London\neu-central-1, Frankfurt\"\n        }\n    ],\n    \"widgets\": [\n        {\n            \"height\": 6,\n            \"width\": 6,\n            \"y\": 10,\n            \"x\": 0,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/ApplicationELB,LoadBalancer} MetricName=\\\"RequestCount\\\"', 'Sum', 60))\", \"label\": \"${PROP('MetricName')} ${PROP('Dim.LoadBalancer')}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"timeSeries\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"period\": 60,\n                \"stat\": \"Sum\",\n                \"title\": \"RequestCount\"\n            }\n        },\n        {\n            \"height\": 6,\n            \"width\": 6,\n            \"y\": 10,\n            \"x\": 18,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/ApplicationELB,LoadBalancer} MetricName=\\\"HTTPCode_ELB_5XX_Count\\\"', 'Sum', 60))\", \"label\": \"${PROP('MetricName')} ${PROP('Dim.LoadBalancer')}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"timeSeries\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"title\": \"HTTP 5XX emitted by ALB\",\n                \"period\": 60,\n                \"stat\": \"Sum\"\n            }\n        },\n        {\n            \"height\": 4,\n            \"width\": 24,\n            \"y\": 0,\n            \"x\": 0,\n            \"type\": \"text\",\n            \"properties\": {\n                \"markdown\": \"## ALB Request Metrics\n- Widgets below report on load balancer performance\n- [Details on ALB metrics](https://docs.aws.amazon.com/elasticloadbalancing/latest/application/load-balancer-cloudwatch-metrics.html#load-balancer-metric-table)\n- Here are troubleshooting guides for: \n\n[button:HTTP 403](https://repost.aws/knowledge-center/alb-http-403-error) [button:HTTP 502](https://repost.aws/knowledge-center/elb-alb-troubleshoot-502-errors) [button:HTTP 503](https://repost.aws/knowledge-center/alb-troubleshoot-503-errors) [button:HTTP 504](https://repost.aws/knowledge-center/504-error-alb)\n[button:Drop in RequestCount](https://repost.aws/knowledge-center/elb-requestcount-metric-drop)\n[button:Unable to Access ALB](https://repost.aws/knowledge-center/elb-requestcount-metric-drop)\",\n                \"background\": \"transparent\"\n            }\n        },\n        {\n            \"height\": 6,\n            \"width\": 6,\n            \"y\": 10,\n            \"x\": 12,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/ApplicationELB,LoadBalancer} MetricName=\\\"HTTPCode_ELB_4XX_Count\\\"', 'Sum', 60))\", \"label\": \"${PROP('MetricName')} ${PROP('Dim.LoadBalancer')}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"timeSeries\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"title\": \"HTTP 4XX emitted by ALB\",\n                \"period\": 60,\n                \"stat\": \"Sum\"\n            }\n        },\n        {\n            \"height\": 6,\n            \"width\": 6,\n            \"y\": 38,\n            \"x\": 12,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/ApplicationELB,TargetGroup,LoadBalancer} MetricName=\\\"HealthyHostCount\\\"', 'Minimum', 60))\", \"label\": \"${PROP('Dim.LoadBalancer')} ${PROP('Dim.TargetGroup')}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"timeSeries\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"period\": 300,\n                \"stat\": \"Average\",\n                \"title\": \"Healthy Targets\"\n            }\n        },\n        {\n            \"height\": 6,\n            \"width\": 6,\n            \"y\": 38,\n            \"x\": 6,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/ApplicationELB,TargetGroup,LoadBalancer} MetricName=\\\"RequestCount\\\"', 'Sum', 60))\", \"label\": \"${PROP('Dim.LoadBalancer')} ${PROP('Dim.TargetGroup')}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"timeSeries\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"period\": 300,\n                \"stat\": \"Average\",\n                \"title\": \"Request Count Per Target\"\n            }\n        },\n        {\n            \"height\": 6,\n            \"width\": 6,\n            \"y\": 50,\n            \"x\": 6,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/ApplicationELB,TargetGroup,LoadBalancer} MetricName=\\\"TargetConnectionErrorCount\\\"', 'Sum', 60))\", \"label\": \"${PROP('Dim.LoadBalancer')} ${PROP('Dim.TargetGroup')}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"timeSeries\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"title\": \"TargetConnectionErrorCount\",\n                \"period\": 300,\n                \"stat\": \"Average\"\n            }\n        },\n        {\n            \"height\": 4,\n            \"width\": 24,\n            \"y\": 22,\n            \"x\": 0,\n            \"type\": \"text\",\n            \"properties\": {\n                \"markdown\": \"## Target Group Metrics\n- Widgets below report on the application hosted behind the load balancer\n- [Details on Target-level metrics](https://docs.aws.amazon.com/elasticloadbalancing/latest/application/load-balancer-cloudwatch-metrics.html#target-metric-table)\n- Here are troubleshooting guides for: \n\n[button:Failed Health Checks](https://repost.aws/knowledge-center/elb-fix-failing-health-checks-alb) \n[button:High Latency](https://repost.aws/knowledge-center/elb-fix-high-latency-on-alb) [button:Increase in TargetResponseTime](https://repost.aws/knowledge-center/alb-troubleshoot-targetresponsetime) [button:Session Stickiness](https://repost.aws/knowledge-center/elb-alb-stickiness) [button:Traffic Imbalance](https://repost.aws/knowledge-center/elb-fix-unequal-traffic-routing) \",\n                \"background\": \"transparent\"\n            }\n        },\n        {\n            \"height\": 6,\n            \"width\": 6,\n            \"y\": 50,\n            \"x\": 0,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/ApplicationELB,TargetGroup,LoadBalancer} MetricName=\\\"TargetResponseTime\\\"', 'p90', 60))\", \"label\": \"${LABEL} ${PROP('Dim.TargetGroup')}\", \"id\": \"e1\", \"region\": \"us-east-1\", \"period\": 60 } ]\n                ],\n                \"view\": \"timeSeries\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"title\": \"Latency added by Target (TargetResponseTime p90)\",\n                \"period\": 60,\n                \"stat\": \"Average\"\n            }\n        },\n        {\n            \"height\": 6,\n            \"width\": 6,\n            \"y\": 77,\n            \"x\": 0,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/ApplicationELB,LoadBalancer} MetricName=\\\"ELBAuthSuccess\\\"', 'Sum', 60))\", \"label\": \"${PROP('Dim.LoadBalancer')}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"timeSeries\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"period\": 60,\n                \"stat\": \"Sum\",\n                \"title\": \"Successful Authenticate Actions\"\n            }\n        },\n        {\n            \"height\": 6,\n            \"width\": 6,\n            \"y\": 10,\n            \"x\": 6,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/ApplicationELB,LoadBalancer} MetricName=\\\"HTTPCode_ELB_3XX_Count\\\"', 'Sum', 60))\", \"label\": \"${PROP('MetricName')} ${PROP('Dim.LoadBalancer')}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"timeSeries\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"title\": \"HTTP 3XX emitted by ALB\",\n                \"period\": 60,\n                \"stat\": \"Sum\"\n            }\n        },\n        {\n            \"height\": 6,\n            \"width\": 6,\n            \"y\": 59,\n            \"x\": 0,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/ApplicationELB,LoadBalancer} MetricName=\\\"NewConnectionCount\\\"', 'Sum', 60))\", \"label\": \"${PROP('MetricName')} ${PROP('Dim.LoadBalancer')}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"timeSeries\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"stat\": \"Sum\",\n                \"period\": 60,\n                \"title\": \"New Connections\"\n            }\n        },\n        {\n            \"height\": 6,\n            \"width\": 6,\n            \"y\": 44,\n            \"x\": 0,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/ApplicationELB,TargetGroup,LoadBalancer} MetricName=\\\"HTTPCode_Target_2XX_Count\\\"', 'Sum', 60))\", \"label\": \"${PROP('Dim.LoadBalancer')} ${PROP('Dim.TargetGroup')}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"timeSeries\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"period\": 300,\n                \"stat\": \"Average\",\n                \"title\": \"HTTP 2XX emitted from Targets\"\n            }\n        },\n        {\n            \"height\": 6,\n            \"width\": 6,\n            \"y\": 44,\n            \"x\": 6,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/ApplicationELB,TargetGroup,LoadBalancer} MetricName=\\\"HTTPCode_Target_3XX_Count\\\"', 'Sum', 60))\", \"label\": \"${PROP('Dim.LoadBalancer')} ${PROP('Dim.TargetGroup')}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"timeSeries\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"period\": 300,\n                \"stat\": \"Average\",\n                \"title\": \"HTTP 3XX emitted from Targets\"\n            }\n        },\n        {\n            \"height\": 6,\n            \"width\": 6,\n            \"y\": 44,\n            \"x\": 12,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/ApplicationELB,TargetGroup,LoadBalancer} MetricName=\\\"HTTPCode_Target_4XX_Count\\\"', 'Sum', 60))\", \"label\": \"${PROP('Dim.LoadBalancer')} ${PROP('Dim.TargetGroup')}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"timeSeries\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"period\": 300,\n                \"stat\": \"Average\",\n                \"title\": \"HTTP 4XX emitted from Targets\"\n            }\n        },\n        {\n            \"height\": 6,\n            \"width\": 6,\n            \"y\": 44,\n            \"x\": 18,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/ApplicationELB,TargetGroup,LoadBalancer} MetricName=\\\"HTTPCode_Target_5XX_Count\\\"', 'Sum', 60))\", \"label\": \"${PROP('Dim.LoadBalancer')} ${PROP('Dim.TargetGroup')}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"timeSeries\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"period\": 300,\n                \"stat\": \"Average\",\n                \"title\": \"HTTP 5XX emitted from Targets\"\n            }\n        },\n        {\n            \"height\": 6,\n            \"width\": 6,\n            \"y\": 38,\n            \"x\": 18,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/ApplicationELB,TargetGroup,LoadBalancer} MetricName=\\\"UnHealthyHostCount\\\"', 'Maximum', 60))\", \"label\": \"${PROP('Dim.LoadBalancer')} ${PROP('Dim.TargetGroup')}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"timeSeries\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"period\": 300,\n                \"stat\": \"Average\",\n                \"title\": \"Unhealthy Targets\"\n            }\n        },\n        {\n            \"height\": 6,\n            \"width\": 6,\n            \"y\": 38,\n            \"x\": 0,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/ApplicationELB,TargetGroup,LoadBalancer} MetricName=\\\"RequestCount\\\"', 'Sum', 60))\", \"label\": \"${PROP('Dim.LoadBalancer')} ${PROP('Dim.TargetGroup')}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"timeSeries\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"period\": 300,\n                \"stat\": \"Average\",\n                \"title\": \"Request Count Per Target Group\"\n            }\n        },\n        {\n            \"height\": 6,\n            \"width\": 6,\n            \"y\": 16,\n            \"x\": 6,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/ApplicationELB,LoadBalancer} MetricName=\\\"HTTPCode_ELB_502_Count\\\"', 'Sum', 60))\", \"label\": \"${PROP('MetricName')} ${PROP('Dim.LoadBalancer')}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"timeSeries\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"title\": \"HTTP 502 emitted by ALB\",\n                \"period\": 60,\n                \"stat\": \"Sum\"\n            }\n        },\n        {\n            \"height\": 6,\n            \"width\": 6,\n            \"y\": 16,\n            \"x\": 12,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/ApplicationELB,LoadBalancer} MetricName=\\\"HTTPCode_ELB_503_Count\\\"', 'Sum', 60))\", \"label\": \"${PROP('MetricName')} ${PROP('Dim.LoadBalancer')}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"timeSeries\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"title\": \"HTTP 503 emitted by ALB\",\n                \"period\": 60,\n                \"stat\": \"Sum\"\n            }\n        },\n        {\n            \"height\": 6,\n            \"width\": 6,\n            \"y\": 16,\n            \"x\": 18,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/ApplicationELB,LoadBalancer} MetricName=\\\"HTTPCode_ELB_504_Count\\\"', 'Sum', 60))\", \"label\": \"${PROP('MetricName')} ${PROP('Dim.LoadBalancer')}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"timeSeries\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"title\": \"HTTP 504 emitted by ALB\",\n                \"period\": 60,\n                \"stat\": \"Sum\"\n            }\n        },\n        {\n            \"height\": 3,\n            \"width\": 24,\n            \"y\": 65,\n            \"x\": 0,\n            \"type\": \"text\",\n            \"properties\": {\n                \"markdown\": \"## TLS Metrics\n- Here are troubleshooting guides for: \n\n[button:Client SSl/TLS Negotiation Errors](https://repost.aws/knowledge-center/elb-fix-ssl-tls-negotiation-error) \n[button: Client issues with mTLS](https://repost.aws/knowledge-center/elb-alb-mtls-client-connection-errors) \n[button: CA Bundle issues with mTLS](https://repost.aws/knowledge-center/elb-alb-mtls-ca-bundle-issues)\",\n                \"background\": \"transparent\"\n            }\n        },\n        {\n            \"height\": 3,\n            \"width\": 24,\n            \"y\": 56,\n            \"x\": 0,\n            \"type\": \"text\",\n            \"properties\": {\n                \"markdown\": \"## Connection Metrics\n\n- Here are troubleshooting guides for: \n\n[button:Connection Errors](https://repost.aws/knowledge-center/elb-alb-http-connection-errors) \n[button:Connection Timed Out](https://repost.aws/knowledge-center/elb-troubleshoot-connection-errors) \n\",\n                \"background\": \"transparent\"\n            }\n        },\n        {\n            \"height\": 6,\n            \"width\": 6,\n            \"y\": 59,\n            \"x\": 6,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/ApplicationELB,LoadBalancer} MetricName=\\\"ActiveConnectionCount\\\"', 'Sum', 60))\", \"label\": \"${PROP('MetricName')} ${PROP('Dim.LoadBalancer')}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"timeSeries\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"stat\": \"Sum\",\n                \"period\": 60,\n                \"title\": \"Active Connections\"\n            }\n        },\n        {\n            \"height\": 6,\n            \"width\": 6,\n            \"y\": 59,\n            \"x\": 12,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/ApplicationELB,LoadBalancer} MetricName=\\\"RejectedConnectionCount\\\"', 'Sum', 60))\", \"label\": \"${PROP('MetricName')} ${PROP('Dim.LoadBalancer')}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"timeSeries\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"stat\": \"Sum\",\n                \"period\": 60,\n                \"title\": \"Rejected Connections\"\n            }\n        },\n        {\n            \"height\": 6,\n            \"width\": 12,\n            \"y\": 4,\n            \"x\": 0,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/ApplicationELB,LoadBalancer} MetricName=\\\"RequestCount\\\"', 'Sum', 60))\", \"label\": \"${PROP('Dim.LoadBalancer')}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"pie\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"period\": 60,\n                \"stat\": \"Sum\",\n                \"title\": \"RequestCount by ALB\",\n                \"setPeriodToTimeRange\": true,\n                \"sparkline\": false,\n                \"labels\": {\n                    \"visible\": true\n                },\n                \"legend\": {\n                    \"position\": \"hidden\"\n                }\n            }\n        },\n        {\n            \"height\": 6,\n            \"width\": 12,\n            \"y\": 4,\n            \"x\": 12,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SORT(SEARCH('{AWS/ApplicationELB,LoadBalancer} MetricName=\\\"HTTPCode_ELB_5XX_Count\\\"', 'Sum', 60), SUM, DESC))\", \"label\": \"${PROP('Dim.LoadBalancer')}\", \"id\": \"e2\" } ]\n                ],\n                \"view\": \"singleValue\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"title\": \"HTTP 5XX Responses by ALB\",\n                \"period\": 60,\n                \"stat\": \"Sum\",\n                \"setPeriodToTimeRange\": true,\n                \"sparkline\": false\n            }\n        },\n        {\n            \"height\": 6,\n            \"width\": 12,\n            \"y\": 26,\n            \"x\": 12,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SORT(SEARCH('{AWS/ApplicationELB,TargetGroup,LoadBalancer} MetricName=\\\"UnHealthyHostCount\\\"', 'Maximum', 60), MAX, DESC))\", \"label\": \"${PROP('Dim.LoadBalancer')} ${PROP('Dim.TargetGroup')}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"singleValue\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"period\": 300,\n                \"stat\": \"Average\",\n                \"title\": \"Unhealthy Targets by ALB & Target Group\",\n                \"setPeriodToTimeRange\": true,\n                \"sparkline\": false\n            }\n        },\n        {\n            \"height\": 6,\n            \"width\": 12,\n            \"y\": 26,\n            \"x\": 0,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SORT(SEARCH('{AWS/ApplicationELB,TargetGroup,LoadBalancer} MetricName=\\\"RequestCount\\\"', 'Sum', 60), SUM, DESC))\", \"label\": \"${PROP('Dim.LoadBalancer')} ${PROP('Dim.TargetGroup')}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"pie\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"period\": 300,\n                \"stat\": \"Average\",\n                \"title\": \"Request Count Per Target Group\",\n                \"setPeriodToTimeRange\": true,\n                \"sparkline\": false,\n                \"labels\": {\n                    \"visible\": true\n                },\n                \"legend\": {\n                    \"position\": \"hidden\"\n                }\n            }\n        },\n        {\n            \"height\": 6,\n            \"width\": 12,\n            \"y\": 32,\n            \"x\": 12,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SORT(SEARCH('{AWS/ApplicationELB,TargetGroup,LoadBalancer} MetricName=\\\"TargetResponseTime\\\"', 'p90', 60), SUM, DESC))\", \"label\": \"${LABEL} ${PROP('Dim.TargetGroup')}\", \"id\": \"e1\", \"region\": \"us-east-1\", \"period\": 60 } ]\n                ],\n                \"view\": \"singleValue\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"title\": \"Latency added by Target (TargetResponseTime p90)\",\n                \"period\": 60,\n                \"stat\": \"Average\",\n                \"setPeriodToTimeRange\": true,\n                \"singleValueFullPrecision\": false\n            }\n        },\n        {\n            \"height\": 6,\n            \"width\": 12,\n            \"y\": 32,\n            \"x\": 0,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/ApplicationELB,TargetGroup,LoadBalancer} MetricName=\\\"HTTPCode_Target_5XX_Count\\\"', 'Sum', 60))\", \"label\": \"${PROP('Dim.LoadBalancer')} ${PROP('Dim.TargetGroup')}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"singleValue\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"period\": 300,\n                \"stat\": \"Average\",\n                \"title\": \"HTTP 5XX by Target Group\",\n                \"legend\": {\n                    \"position\": \"hidden\"\n                },\n                \"setPeriodToTimeRange\": true,\n                \"sparkline\": false\n            }\n        },\n        {\n            \"height\": 6,\n            \"width\": 6,\n            \"y\": 16,\n            \"x\": 0,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SORT(SEARCH('{AWS/ApplicationELB,LoadBalancer} MetricName=\\\"NonStickyRequestCount\\\"', 'Sum', 60), SUM, DESC))\", \"label\": \"${PROP('MetricName')} ${PROP('Dim.LoadBalancer')}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"timeSeries\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"period\": 60,\n                \"stat\": \"Sum\",\n                \"title\": \"NonStickyRequestCount\"\n            }\n        },\n        {\n            \"height\": 3,\n            \"width\": 24,\n            \"y\": 74,\n            \"x\": 0,\n            \"type\": \"text\",\n            \"properties\": {\n                \"markdown\": \"## Authentication Metrics\n\n- Here are troubleshooting guides for: \n\n[button:ALB Authentication](https://repost.aws/knowledge-center/elb-configure-authentication-alb) \n\",\n                \"background\": \"transparent\"\n            }\n        },\n        {\n            \"height\": 6,\n            \"width\": 6,\n            \"y\": 77,\n            \"x\": 12,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/ApplicationELB,LoadBalancer} MetricName=\\\"ELBAuthFailure\\\"', 'Sum', 60))\", \"label\": \"${PROP('Dim.LoadBalancer')}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"timeSeries\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"period\": 60,\n                \"stat\": \"Sum\",\n                \"title\": \"Failed Authenticate Actions\"\n            }\n        },\n        {\n            \"height\": 6,\n            \"width\": 6,\n            \"y\": 77,\n            \"x\": 6,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/ApplicationELB,LoadBalancer} MetricName=\\\"ELBAuthError\\\"', 'Sum', 60))\", \"label\": \"${PROP('Dim.LoadBalancer')}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"timeSeries\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"period\": 60,\n                \"stat\": \"Sum\",\n                \"title\": \"Errored Authenticate Actions\"\n            }\n        },\n        {\n            \"height\": 6,\n            \"width\": 6,\n            \"y\": 68,\n            \"x\": 0,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/ApplicationELB,LoadBalancer} MetricName=\\\"ClientTLSNegotiationErrorCount\\\"', 'Sum', 60))\", \"label\": \"${PROP('Dim.LoadBalancer')}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"timeSeries\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"period\": 60,\n                \"stat\": \"Sum\",\n                \"title\": \"TLS Negotiation Errors emitted by Client\"\n            }\n        },\n        {\n            \"height\": 6,\n            \"width\": 6,\n            \"y\": 68,\n            \"x\": 6,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/ApplicationELB,LoadBalancer} MetricName=\\\"TargetTLSNegotiationErrorCount\\\"', 'Sum', 60))\", \"label\": \"${PROP('Dim.LoadBalancer')}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"timeSeries\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"period\": 60,\n                \"stat\": \"Sum\",\n                \"title\": \"TLS Negotiation Errors emitted by Target\"\n            }\n        }\n    ]\n}"
                        ]
                    ]
                }
            }
        },
        "CWDashboardALBIndividual": {
            "Type": "AWS::CloudWatch::Dashboard",
            "Properties": {
                "DashboardName": "ALB_Individual_Resources",
                "DashboardBody": {
                    "Fn::Join": [
                        "",
                        [
                            "{\n    \"variables\": [\n        {\n            \"type\": \"pattern\",\n            \"pattern\": \"us-east-1\",\n            \"inputType\": \"select\",\n            \"id\": \"Region\",\n            \"label\": \"Region\",\n            \"defaultValue\": \"us-east-1\",\n            \"visible\": true,\n            \"values\": [\n                {\n                    \"value\": \"us-east-1\",\n                    \"label\": \"N. Virginia\"\n                },\n                {\n                    \"value\": \"us-east-2\",\n                    \"label\": \"Ohio\"\n                },\n                {\n                    \"value\": \"us-west-1\",\n                    \"label\": \"N.California\"\n                },\n                {\n                    \"value\": \"ca-central-1\",\n                    \"label\": \"Canada\"\n                },\n                {\n                    \"value\": \"us-west-2\",\n                    \"label\": \"Oregon\"\n                },\n                {\n                    \"value\": \"eu-west-1\",\n                    \"label\": \"Ireland\"\n                },\n                {\n                    \"value\": \"eu-west-2\",\n                    \"label\": \"London\"\n                },\n                {\n                    \"value\": \"eu-central-1\",\n                    \"label\": \"Frankfurt\"\n                }\n            ],\n            \"value\": \"us-east-1\",\n            \"customValues\": \"us-east-1, N. Virginia\nus-east-2, Ohio\nus-west-1, N.California\nca-central-1, Canada\nus-west-2, Oregon\neu-west-1, Ireland\neu-west-2, London\neu-central-1, Frankfurt\"\n        },\n        {\n            \"type\": \"property\",\n            \"property\": \"LoadBalancer\",\n            \"inputType\": \"select\",\n            \"id\": \"LoadBalancer\",\n            \"label\": \"LoadBalancer\",\n            \"defaultValue\": \"\",\n            \"visible\": true,\n            \"search\": \"{AWS/ApplicationELB,LoadBalancer} MetricName=RequestCount\",\n            \"populateFrom\": \"LoadBalancer\"\n        },\n        {\n            \"type\": \"property\",\n            \"property\": \"WebACL\",\n            \"inputType\": \"select\",\n            \"id\": \"WebACL\",\n            \"label\": \"WebACL\",\n            \"defaultValue\": \"\",\n            \"visible\": true,\n            \"search\": \"{AWS/WAFV2,Region,Rule,WebACL} MetricName=AllowedRequests\",\n            \"populateFrom\": \"WebACL\"\n        }\n    ],\n    \"widgets\": [\n        {\n            \"height\": 6,\n            \"width\": 6,\n            \"y\": 10,\n            \"x\": 0,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/ApplicationELB,LoadBalancer} MetricName=\\\"RequestCount\\\" LoadBalancer=\\\"appname\\\"', 'Sum', 60))\", \"label\": \"${LABEL} ${PROP('Dim.LoadBalancer')}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"timeSeries\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"period\": 60,\n                \"stat\": \"Sum\",\n                \"title\": \"RequestCount\"\n            }\n        },\n        {\n            \"height\": 6,\n            \"width\": 6,\n            \"y\": 4,\n            \"x\": 18,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/ApplicationELB,LoadBalancer} MetricName=\\\"HTTPCode_ELB_5XX_Count\\\" LoadBalancer=appname', 'Sum', 60))\", \"label\": \"${PROP('MetricName')}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ],\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/ApplicationELB,LoadBalancer} MetricName=\\\"HTTPCode_ELB_502_Count\\\" LoadBalancer=appname', 'Sum', 60))\", \"label\": \"${PROP('MetricName')}\", \"id\": \"e2\", \"region\": \"us-east-1\" } ],\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/ApplicationELB,LoadBalancer} MetricName=\\\"HTTPCode_ELB_503_Count\\\" LoadBalancer=appname', 'Sum', 60))\", \"label\": \"${PROP('MetricName')}\", \"id\": \"e3\", \"region\": \"us-east-1\" } ],\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/ApplicationELB,LoadBalancer} MetricName=\\\"HTTPCode_ELB_504_Count\\\" LoadBalancer=appname', 'Sum', 60))\", \"label\": \"${PROP('MetricName')}\", \"id\": \"e4\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"singleValue\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"title\": \"HTTP 5XX emitted by ALB\",\n                \"period\": 60,\n                \"stat\": \"Sum\",\n                \"setPeriodToTimeRange\": true,\n                \"sparkline\": false\n            }\n        },\n        {\n            \"height\": 4,\n            \"width\": 24,\n            \"y\": 0,\n            \"x\": 0,\n            \"type\": \"text\",\n            \"properties\": {\n                \"markdown\": \"## ALB Request Metrics\n- Widgets below report on load balancer performance\n- [Details on ALB metrics](https://docs.aws.amazon.com/elasticloadbalancing/latest/application/load-balancer-cloudwatch-metrics.html#load-balancer-metric-table)\n- Here are troubleshooting guides for: \n\n[button:HTTP 403](https://repost.aws/knowledge-center/alb-http-403-error) [button:HTTP 502](https://repost.aws/knowledge-center/elb-alb-troubleshoot-502-errors) [button:HTTP 503](https://repost.aws/knowledge-center/alb-troubleshoot-503-errors) [button:HTTP 504](https://repost.aws/knowledge-center/504-error-alb)\n[button:Drop in RequestCount](https://repost.aws/knowledge-center/elb-requestcount-metric-drop)\n[button:Unable to Access ALB](https://repost.aws/knowledge-center/elb-requestcount-metric-drop)\",\n                \"background\": \"transparent\"\n            }\n        },\n        {\n            \"height\": 6,\n            \"width\": 6,\n            \"y\": 10,\n            \"x\": 12,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/ApplicationELB,LoadBalancer} MetricName=\\\"HTTPCode_ELB_4XX_Count\\\" LoadBalancer=appname', 'Sum', 60))\", \"label\": \"${LABEL} ${PROP('Dim.LoadBalancer')}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"timeSeries\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"title\": \"HTTP 4XX emitted by ALB\",\n                \"period\": 60,\n                \"stat\": \"Sum\"\n            }\n        },\n        {\n            \"height\": 6,\n            \"width\": 6,\n            \"y\": 32,\n            \"x\": 12,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/ApplicationELB,TargetGroup,LoadBalancer} MetricName=\\\"HealthyHostCount\\\" LoadBalancer=appname', 'Minimum', 60))\", \"label\": \"${PROP('Dim.TargetGroup')}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"timeSeries\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"title\": \"Healthy Targets\",\n                \"stat\": \"Maximum\",\n                \"period\": 60\n            }\n        },\n        {\n            \"height\": 6,\n            \"width\": 6,\n            \"y\": 32,\n            \"x\": 6,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/ApplicationELB,TargetGroup,LoadBalancer} MetricName=\\\"RequestCountPerTarget\\\" LoadBalancer=appname', 'Sum', 60))\", \"label\": \"${LABEL} ${PROP('Dim.TargetGroup')}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"timeSeries\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"period\": 300,\n                \"stat\": \"Average\",\n                \"title\": \"RequestCount Per Target\"\n            }\n        },\n        {\n            \"height\": 6,\n            \"width\": 6,\n            \"y\": 44,\n            \"x\": 6,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/ApplicationELB,TargetGroup,LoadBalancer} MetricName=\\\"TargetConnectionErrorCount\\\" LoadBalancer=appname', 'Sum', 60))\", \"label\": \"${LABEL}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"timeSeries\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"title\": \"TargetConnectionErrorCount\",\n                \"period\": 300,\n                \"stat\": \"Average\"\n            }\n        },\n        {\n            \"height\": 4,\n            \"width\": 24,\n            \"y\": 22,\n            \"x\": 0,\n            \"type\": \"text\",\n            \"properties\": {\n                \"markdown\": \"## Target Group Metrics\n- Widgets below report on the application hosted behind the load balancer\n- [Details on Target-level metrics](https://docs.aws.amazon.com/elasticloadbalancing/latest/application/load-balancer-cloudwatch-metrics.html#target-metric-table)\n- Here are troubleshooting guides for: \n\n[button:Failed Health Checks](https://repost.aws/knowledge-center/elb-fix-failing-health-checks-alb) \n[button:High Latency](https://repost.aws/knowledge-center/elb-fix-high-latency-on-alb) [button:Increase in TargetResponseTime](https://repost.aws/knowledge-center/alb-troubleshoot-targetresponsetime) [button:Session Stickiness](https://repost.aws/knowledge-center/elb-alb-stickiness) [button:Traffic Imbalance](https://repost.aws/knowledge-center/elb-fix-unequal-traffic-routing) \",\n                \"background\": \"transparent\"\n            }\n        },\n        {\n            \"height\": 6,\n            \"width\": 6,\n            \"y\": 44,\n            \"x\": 0,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/ApplicationELB,TargetGroup,LoadBalancer} MetricName=\\\"TargetResponseTime\\\" LoadBalancer=appname', 'p90', 60))\", \"label\": \"${LABEL} ${PROP('Dim.TargetGroup')}\", \"id\": \"e1\", \"region\": \"us-east-1\", \"period\": 60 } ]\n                ],\n                \"view\": \"timeSeries\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"title\": \"Latency added by Target (TargetResponseTime p90)\",\n                \"period\": 60,\n                \"stat\": \"Average\"\n            }\n        },\n        {\n            \"height\": 6,\n            \"width\": 6,\n            \"y\": 63,\n            \"x\": 12,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/ApplicationELB,LoadBalancer} MetricName=\\\"TargetTLSNegotiationErrorCount\\\" LoadBalancer=\\\"appname\\\"', 'Sum', 60))\", \"label\": \"${PROP('Dim.LoadBalancer')}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"timeSeries\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"period\": 60,\n                \"stat\": \"Sum\",\n                \"title\": \"TLS Negotiation Errors emitted by Target\"\n            }\n        },\n        {\n            \"height\": 6,\n            \"width\": 6,\n            \"y\": 63,\n            \"x\": 0,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/ApplicationELB,LoadBalancer} MetricName=\\\"ClientTLSNegotiationErrorCount\\\" LoadBalancer=\\\"appname\\\"', 'Sum', 60))\", \"label\": \"${PROP('Dim.LoadBalancer')}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"timeSeries\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"period\": 60,\n                \"stat\": \"Sum\",\n                \"title\": \"TLS Negotiation Errors emitted by Client\"\n            }\n        },\n        {\n            \"height\": 6,\n            \"width\": 6,\n            \"y\": 10,\n            \"x\": 6,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/ApplicationELB,LoadBalancer} MetricName=\\\"HTTPCode_ELB_3XX_Count\\\" LoadBalancer=appname', 'Sum', 60))\", \"label\": \"${LABEL} ${PROP('Dim.LoadBalancer')}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"timeSeries\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"title\": \"HTTP 3XX emitted by ALB\",\n                \"period\": 60,\n                \"stat\": \"Sum\"\n            }\n        },\n        {\n            \"height\": 6,\n            \"width\": 6,\n            \"y\": 38,\n            \"x\": 0,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/ApplicationELB,TargetGroup,LoadBalancer} MetricName=\\\"HTTPCode_Target_2XX_Count\\\" LoadBalancer=appname', 'Sum', 60))\", \"label\": \"${LABEL} ${PROP('Dim.TargetGroup')}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"timeSeries\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"title\": \"HTTP 2XX emitted from Targets\",\n                \"period\": 60,\n                \"stat\": \"Sum\"\n            }\n        },\n        {\n            \"height\": 6,\n            \"width\": 6,\n            \"y\": 38,\n            \"x\": 6,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/ApplicationELB,TargetGroup,LoadBalancer} MetricName=\\\"HTTPCode_Target_3XX_Count\\\" LoadBalancer=appname', 'Sum', 60))\", \"label\": \"${LABEL} ${PROP('Dim.TargetGroup')}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"timeSeries\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"title\": \"HTTP 3XX emitted from Targets\",\n                \"period\": 60,\n                \"stat\": \"Sum\"\n            }\n        },\n        {\n            \"height\": 6,\n            \"width\": 6,\n            \"y\": 38,\n            \"x\": 12,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/ApplicationELB,TargetGroup,LoadBalancer} MetricName=\\\"HTTPCode_Target_4XX_Count\\\" LoadBalancer=appname', 'Sum', 60))\", \"label\": \"${LABEL} ${PROP('Dim.TargetGroup')}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"timeSeries\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"title\": \"HTTP 4XX emitted from Targets\",\n                \"period\": 60,\n                \"stat\": \"Sum\"\n            }\n        },\n        {\n            \"height\": 6,\n            \"width\": 6,\n            \"y\": 38,\n            \"x\": 18,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/ApplicationELB,TargetGroup,LoadBalancer} MetricName=\\\"HTTPCode_Target_5XX_Count\\\" LoadBalancer=appname', 'Sum', 60))\", \"label\": \"${LABEL} ${PROP('Dim.TargetGroup')}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"timeSeries\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"title\": \"HTTP 5XX emitted from Targets\",\n                \"period\": 60,\n                \"stat\": \"Sum\"\n            }\n        },\n        {\n            \"height\": 2,\n            \"width\": 24,\n            \"y\": 78,\n            \"x\": 0,\n            \"type\": \"text\",\n            \"properties\": {\n                \"markdown\": \"## WAF Metrics\n\n- [Details on WAF Metrics](https://docs.aws.amazon.com/waf/latest/developerguide/waf-metrics.html)\"\n            }\n        },\n        {\n            \"height\": 6,\n            \"width\": 6,\n            \"y\": 80,\n            \"x\": 0,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/WAFV2,WebACL,Region,Rule} WebACL=\\\"appname\\\" Region=\\\"us-east-1\\\" MetricName=\\\"AllowedRequests\\\"', 'Sum', 60))\", \"label\": \"${LABEL} ${PROP('Dim.WebACL')}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"timeSeries\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"period\": 60,\n                \"stat\": \"Sum\",\n                \"title\": \"AllowedRequests\"\n            }\n        },\n        {\n            \"height\": 6,\n            \"width\": 6,\n            \"y\": 80,\n            \"x\": 6,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/WAFV2,WebACL,Region,Rule} WebACL=\\\"appname\\\" Region=\\\"us-east-1\\\" MetricName=\\\"BlockedRequests\\\"', 'Sum', 60))\", \"label\": \"${LABEL} ${PROP('Dim.WebACL')}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"timeSeries\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"period\": 60,\n                \"stat\": \"Sum\",\n                \"title\": \"BlockedRequests\"\n            }\n        },\n        {\n            \"height\": 6,\n            \"width\": 6,\n            \"y\": 32,\n            \"x\": 18,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/ApplicationELB,TargetGroup,LoadBalancer} MetricName=\\\"UnHealthyHostCount\\\" LoadBalancer=appname', 'Maximum', 60))\", \"label\": \"${PROP('Dim.TargetGroup')}\", \"id\": \"e2\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"timeSeries\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"title\": \"UnHealthy Targets\",\n                \"stat\": \"Maximum\",\n                \"period\": 60\n            }\n        },\n        {\n            \"height\": 6,\n            \"width\": 6,\n            \"y\": 32,\n            \"x\": 0,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/ApplicationELB,TargetGroup,LoadBalancer} MetricName=\\\"RequestCount\\\" LoadBalancer=appname', 'Sum', 60))\", \"label\": \"${LABEL} ${PROP('Dim.TargetGroup')}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"timeSeries\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"period\": 300,\n                \"stat\": \"Average\",\n                \"title\": \"Request Count Per Target Group\"\n            }\n        },\n        {\n            \"height\": 6,\n            \"width\": 6,\n            \"y\": 4,\n            \"x\": 0,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/ApplicationELB,LoadBalancer} MetricName=\\\"RequestCount\\\" LoadBalancer=\\\"appname\\\"', 'Sum', 60))\", \"label\": \"${LABEL} ${PROP('Dim.LoadBalancer')}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"singleValue\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"period\": 60,\n                \"stat\": \"Sum\",\n                \"title\": \"RequestCount\",\n                \"setPeriodToTimeRange\": true,\n                \"sparkline\": false\n            }\n        },\n        {\n            \"height\": 6,\n            \"width\": 6,\n            \"y\": 4,\n            \"x\": 6,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/ApplicationELB,LoadBalancer} MetricName=\\\"HTTPCode_ELB_3XX_Count\\\" LoadBalancer=appname', 'Sum', 60))\", \"label\": \"${LABEL} ${PROP('Dim.LoadBalancer')}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"singleValue\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"title\": \"HTTP 3XX emitted by ALB\",\n                \"period\": 60,\n                \"stat\": \"Sum\",\n                \"setPeriodToTimeRange\": true,\n                \"sparkline\": false\n            }\n        },\n        {\n            \"height\": 6,\n            \"width\": 6,\n            \"y\": 4,\n            \"x\": 12,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/ApplicationELB,LoadBalancer} MetricName=\\\"HTTPCode_ELB_4XX_Count\\\" LoadBalancer=appname', 'Sum', 60))\", \"label\": \"${LABEL} ${PROP('Dim.LoadBalancer')}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"singleValue\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"title\": \"HTTP 4XX emitted by ALB\",\n                \"period\": 60,\n                \"stat\": \"Sum\",\n                \"setPeriodToTimeRange\": true,\n                \"sparkline\": false\n            }\n        },\n        {\n            \"height\": 6,\n            \"width\": 6,\n            \"y\": 10,\n            \"x\": 18,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/ApplicationELB,LoadBalancer} MetricName=\\\"HTTPCode_ELB_5XX_Count\\\" LoadBalancer=appname', 'Sum', 60))\", \"label\": \"${PROP('MetricName')}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ],\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/ApplicationELB,LoadBalancer} MetricName=\\\"HTTPCode_ELB_502_Count\\\" LoadBalancer=appname', 'Sum', 60))\", \"label\": \"${PROP('MetricName')}\", \"id\": \"e2\", \"region\": \"us-east-1\" } ],\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/ApplicationELB,LoadBalancer} MetricName=\\\"HTTPCode_ELB_503_Count\\\" LoadBalancer=appname', 'Sum', 60))\", \"label\": \"${PROP('MetricName')}\", \"id\": \"e3\", \"region\": \"us-east-1\" } ],\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/ApplicationELB,LoadBalancer} MetricName=\\\"HTTPCode_ELB_504_Count\\\" LoadBalancer=appname', 'Sum', 60))\", \"label\": \"${PROP('MetricName')}\", \"id\": \"e4\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"timeSeries\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"title\": \"HTTP 5XX emitted by ALB\",\n                \"period\": 60,\n                \"stat\": \"Sum\"\n            }\n        },\n        {\n            \"height\": 6,\n            \"width\": 6,\n            \"y\": 16,\n            \"x\": 0,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SORT(SEARCH('{AWS/ApplicationELB,LoadBalancer} MetricName=\\\"NonStickyRequestCount\\\" LoadBalancer=\\\"appname\\\"', 'Sum', 60), SUM, DESC))\", \"label\": \"${PROP('MetricName')} ${PROP('Dim.LoadBalancer')}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"timeSeries\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"period\": 60,\n                \"stat\": \"Sum\",\n                \"title\": \"NonStickyRequestCount\"\n            }\n        },\n        {\n            \"height\": 3,\n            \"width\": 24,\n            \"y\": 50,\n            \"x\": 0,\n            \"type\": \"text\",\n            \"properties\": {\n                \"markdown\": \"## Connection Metrics\n\n- Here are troubleshooting guides for: \n\n[button:Connection Errors](https://repost.aws/knowledge-center/elb-alb-http-connection-errors) \n[button:Connection Timed Out](https://repost.aws/knowledge-center/elb-troubleshoot-connection-errors) \",\n                \"background\": \"transparent\"\n            }\n        },\n        {\n            \"height\": 3,\n            \"width\": 24,\n            \"y\": 60,\n            \"x\": 0,\n            \"type\": \"text\",\n            \"properties\": {\n                \"markdown\": \"## TLS Metrics\n- Here are troubleshooting guides for: \n\n[button:Client SSl/TLS Negotiation Errors](https://repost.aws/knowledge-center/elb-fix-ssl-tls-negotiation-error) \n[button: Client issues with mTLS](https://repost.aws/knowledge-center/elb-alb-mtls-client-connection-errors) \n[button: CA Bundle issues with mTLS](https://repost.aws/knowledge-center/elb-alb-mtls-ca-bundle-issues)\",\n                \"background\": \"transparent\"\n            }\n        },\n        {\n            \"height\": 3,\n            \"width\": 24,\n            \"y\": 69,\n            \"x\": 0,\n            \"type\": \"text\",\n            \"properties\": {\n                \"markdown\": \"## Authentication Metrics\n\n- Here are troubleshooting guides for: \n\n[button:ALB Authentication](https://repost.aws/knowledge-center/elb-configure-authentication-alb) \",\n                \"background\": \"transparent\"\n            }\n        },\n        {\n            \"height\": 7,\n            \"width\": 12,\n            \"y\": 53,\n            \"x\": 0,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/ApplicationELB,LoadBalancer} MetricName=\\\"NewConnectionCount\\\" LoadBalancer=\\\"appname\\\"', 'Sum', 60))\", \"label\": \"${PROP('MetricName')}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ],\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/ApplicationELB,LoadBalancer} MetricName=\\\"ActiveConnectionCount\\\" LoadBalancer=\\\"appname\\\"', 'Sum', 60))\", \"label\": \"${PROP('MetricName')}\", \"id\": \"e2\", \"region\": \"us-east-1\" } ],\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/ApplicationELB,LoadBalancer} MetricName=\\\"RejectedConnectionCount\\\" LoadBalancer=\\\"appname\\\"', 'Sum', 60))\", \"label\": \"${PROP('MetricName')}\", \"id\": \"e3\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"timeSeries\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"stat\": \"Sum\",\n                \"period\": 60,\n                \"title\": \"Connections\"\n            }\n        },\n        {\n            \"height\": 4,\n            \"width\": 12,\n            \"y\": 53,\n            \"x\": 12,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/ApplicationELB,LoadBalancer} MetricName=\\\"NewConnectionCount\\\" LoadBalancer=\\\"appname\\\"', 'Sum', 60))\", \"label\": \"${PROP('MetricName')}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ],\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/ApplicationELB,LoadBalancer} MetricName=\\\"ActiveConnectionCount\\\" LoadBalancer=\\\"appname\\\"', 'Sum', 60))\", \"label\": \"${PROP('MetricName')}\", \"id\": \"e2\", \"region\": \"us-east-1\" } ],\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/ApplicationELB,LoadBalancer} MetricName=\\\"RejectedConnectionCount\\\" LoadBalancer=\\\"appname\\\"', 'Sum', 60))\", \"label\": \"${PROP('MetricName')}\", \"id\": \"e3\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"singleValue\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"stat\": \"Sum\",\n                \"period\": 60,\n                \"title\": \"Connections\",\n                \"setPeriodToTimeRange\": true,\n                \"sparkline\": false\n            }\n        },\n        {\n            \"height\": 6,\n            \"width\": 6,\n            \"y\": 63,\n            \"x\": 6,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/ApplicationELB,LoadBalancer} MetricName=\\\"ClientTLSNegotiationErrorCount\\\" LoadBalancer=\\\"appname\\\"', 'Sum', 60))\", \"label\": \"${PROP('Dim.LoadBalancer')}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"singleValue\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"period\": 60,\n                \"stat\": \"Sum\",\n                \"title\": \"TLS Negotiation Errors emitted by Client\",\n                \"setPeriodToTimeRange\": true,\n                \"sparkline\": false\n            }\n        },\n        {\n            \"height\": 6,\n            \"width\": 6,\n            \"y\": 63,\n            \"x\": 18,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/ApplicationELB,LoadBalancer} MetricName=\\\"TargetTLSNegotiationErrorCount\\\" LoadBalancer=\\\"appname\\\"', 'Sum', 60))\", \"label\": \"${PROP('Dim.LoadBalancer')}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"singleValue\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"period\": 60,\n                \"stat\": \"Sum\",\n                \"title\": \"TLS Negotiation Errors emitted by Target\",\n                \"setPeriodToTimeRange\": true,\n                \"sparkline\": false\n            }\n        },\n        {\n            \"height\": 6,\n            \"width\": 6,\n            \"y\": 72,\n            \"x\": 0,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/ApplicationELB,LoadBalancer} MetricName=\\\"ELBAuthSuccess\\\" LoadBalancer=\\\"appname\\\"', 'Sum', 60))\", \"label\": \"${PROP('Dim.LoadBalancer')}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"timeSeries\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"period\": 60,\n                \"stat\": \"Sum\",\n                \"title\": \"Successful Authenticate Actions\"\n            }\n        },\n        {\n            \"height\": 6,\n            \"width\": 6,\n            \"y\": 72,\n            \"x\": 12,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/ApplicationELB,LoadBalancer} MetricName=\\\"ELBAuthFailure\\\" LoadBalancer=\\\"appname\\\"', 'Sum', 60))\", \"label\": \"${PROP('Dim.LoadBalancer')}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"timeSeries\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"period\": 60,\n                \"stat\": \"Sum\",\n                \"title\": \"Failed Authenticate Actions\"\n            }\n        },\n        {\n            \"height\": 6,\n            \"width\": 6,\n            \"y\": 72,\n            \"x\": 6,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/ApplicationELB,LoadBalancer} MetricName=\\\"ELBAuthError\\\" LoadBalancer=\\\"appname\\\"', 'Sum', 60))\", \"label\": \"${PROP('Dim.LoadBalancer')}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"timeSeries\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"period\": 60,\n                \"stat\": \"Sum\",\n                \"title\": \"Errored Authenticate Actions\"\n            }\n        },\n        {\n            \"height\": 6,\n            \"width\": 6,\n            \"y\": 80,\n            \"x\": 12,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/WAFV2,WebACL,Region,Rule} WebACL=\\\"appname\\\" Region=\\\"us-east-1\\\" MetricName=\\\"BlockedRequests\\\"', 'Sum', 60))\", \"label\": \"${LABEL} ${PROP('Dim.WebACL')}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"singleValue\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"period\": 60,\n                \"stat\": \"Sum\",\n                \"title\": \"BlockedRequests\",\n                \"setPeriodToTimeRange\": true,\n                \"sparkline\": false\n            }\n        },\n        {\n            \"height\": 6,\n            \"width\": 6,\n            \"y\": 26,\n            \"x\": 0,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/ApplicationELB,TargetGroup,LoadBalancer} MetricName=\\\"RequestCount\\\" LoadBalancer=appname', 'Sum', 60))\", \"label\": \"${LABEL} ${PROP('Dim.TargetGroup')}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"pie\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"period\": 300,\n                \"stat\": \"Average\",\n                \"title\": \"Request Count Per Target Group\",\n                \"setPeriodToTimeRange\": true\n            }\n        },\n        {\n            \"height\": 6,\n            \"width\": 6,\n            \"y\": 26,\n            \"x\": 18,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/ApplicationELB,TargetGroup,LoadBalancer} MetricName=\\\"UnHealthyHostCount\\\" LoadBalancer=appname', 'Maximum', 60))\", \"label\": \"${PROP('Dim.TargetGroup')}\", \"id\": \"e2\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"singleValue\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"title\": \"Unhealthy Targets by Target Group\",\n                \"stat\": \"Maximum\",\n                \"period\": 60,\n                \"setPeriodToTimeRange\": true,\n                \"sparkline\": false\n            }\n        },\n        {\n            \"height\": 6,\n            \"width\": 6,\n            \"y\": 26,\n            \"x\": 12,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/ApplicationELB,TargetGroup,LoadBalancer} MetricName=\\\"TargetResponseTime\\\" LoadBalancer=appname', 'p90', 60))\", \"label\": \"${LABEL} ${PROP('Dim.TargetGroup')}\", \"id\": \"e1\", \"region\": \"us-east-1\", \"period\": 60 } ]\n                ],\n                \"view\": \"singleValue\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"title\": \"Latency added by Target (TargetResponseTime p90)\",\n                \"period\": 60,\n                \"stat\": \"Average\",\n                \"setPeriodToTimeRange\": true,\n                \"sparkline\": false\n            }\n        },\n        {\n            \"height\": 6,\n            \"width\": 6,\n            \"y\": 26,\n            \"x\": 6,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/ApplicationELB,TargetGroup,LoadBalancer} MetricName=\\\"HTTPCode_Target_5XX_Count\\\" LoadBalancer=appname', 'Sum', 60))\", \"label\": \"${LABEL} ${PROP('Dim.TargetGroup')}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"singleValue\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"title\": \"HTTP 5XX by Target Group\",\n                \"period\": 60,\n                \"stat\": \"Sum\",\n                \"setPeriodToTimeRange\": true,\n                \"sparkline\": false\n            }\n        }\n    ]\n}"
                        ]
                    ]
                }
            }
        },
        "CWDashboardGWLBIndividual": {
            "Type": "AWS::CloudWatch::Dashboard",
            "Properties": {
                "DashboardName": "GWLB_Individual_Resources",
                "DashboardBody": {
                    "Fn::Join": [
                        "",
                        [
                            "{\n    \"variables\": [\n        {\n            \"type\": \"pattern\",\n            \"pattern\": \"us-east-1\",\n            \"inputType\": \"select\",\n            \"id\": \"Region\",\n            \"label\": \"Region\",\n            \"defaultValue\": \"us-east-1\",\n            \"visible\": true,\n            \"values\": [\n                {\n                    \"value\": \"us-east-1\",\n                    \"label\": \"N. Virginia\"\n                },\n                {\n                    \"value\": \"us-east-2\",\n                    \"label\": \"Ohio\"\n                },\n                {\n                    \"value\": \"us-west-1\",\n                    \"label\": \"N.California\"\n                },\n                {\n                    \"value\": \"ca-central-1\",\n                    \"label\": \"Canada\"\n                },\n                {\n                    \"value\": \"us-west-2\",\n                    \"label\": \"Oregon\"\n                },\n                {\n                    \"value\": \"eu-west-1\",\n                    \"label\": \"Ireland\"\n                },\n                {\n                    \"value\": \"eu-west-2\",\n                    \"label\": \"London\"\n                },\n                {\n                    \"value\": \"eu-central-1\",\n                    \"label\": \"Frankfurt\"\n                }\n            ],\n            \"value\": \"us-east-1\",\n            \"customValues\": \"us-east-1, N. Virginia\nus-east-2, Ohio\nus-west-1, N.California\nca-central-1, Canada\nus-west-2, Oregon\neu-west-1, Ireland\neu-west-2, London\neu-central-1, Frankfurt\"\n        },\n        {\n            \"type\": \"property\",\n            \"property\": \"LoadBalancer\",\n            \"inputType\": \"select\",\n            \"id\": \"LoadBalancer\",\n            \"label\": \"LoadBalancer\",\n            \"visible\": true,\n            \"search\": \"{AWS/GatewayELB,LoadBalancer} MetricName=PeakBytesPerSecond\",\n            \"populateFrom\": \"LoadBalancer\"\n        }\n    ],\n    \"widgets\": [\n        {\n            \"height\": 7,\n            \"width\": 12,\n            \"y\": 28,\n            \"x\": 0,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SORT(SEARCH('{AWS/GatewayELB,TargetGroup,LoadBalancer} MetricName=\\\"HealthyHostCount\\\"', 'Minimum', 60), MIN, DESC))\", \"label\": \"${PROP('Dim.LoadBalancer')} ${PROP('Dim.TargetGroup')}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"timeSeries\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"period\": 300,\n                \"stat\": \"Average\",\n                \"title\": \"Healthy Targets\"\n            }\n        },\n        {\n            \"height\": 1,\n            \"width\": 24,\n            \"y\": 0,\n            \"x\": 0,\n            \"type\": \"text\",\n            \"properties\": {\n                \"markdown\": \"## Load Balancer Metrics\n\",\n                \"background\": \"transparent\"\n            }\n        },\n        {\n            \"height\": 6,\n            \"width\": 12,\n            \"y\": 49,\n            \"x\": 0,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SORT(SEARCH('{AWS/GatewayELB,LoadBalancer} MetricName=\\\"NewFlowCount\\\"', 'Sum', 60), SUM, DESC))\", \"label\": \"${PROP('Dim.LoadBalancer')}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"timeSeries\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"stat\": \"Sum\",\n                \"period\": 60,\n                \"title\": \"NewFlowCount\"\n            }\n        },\n        {\n            \"height\": 7,\n            \"width\": 12,\n            \"y\": 28,\n            \"x\": 12,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SORT(SEARCH('{AWS/GatewayELB,TargetGroup,LoadBalancer} MetricName=\\\"UnHealthyHostCount\\\"', 'Maximum', 60), MAX, DESC))\", \"label\": \"${PROP('Dim.LoadBalancer')} ${PROP('Dim.TargetGroup')}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"timeSeries\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"period\": 300,\n                \"stat\": \"Average\",\n                \"title\": \"Unhealthy Targets\"\n            }\n        },\n        {\n            \"height\": 10,\n            \"width\": 17,\n            \"y\": 1,\n            \"x\": 7,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SORT(SEARCH('{AWS/GatewayELB,LoadBalancer} MetricName=\\\"PeakBytesPerSecond\\\"', 'Maximum', 60), MAX, DESC))\", \"label\": \"${PROP('Dim.LoadBalancer')}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"timeSeries\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"period\": 300,\n                \"stat\": \"Average\",\n                \"title\": \"PeakBytesPerSecond\"\n            }\n        },\n        {\n            \"height\": 1,\n            \"width\": 24,\n            \"y\": 35,\n            \"x\": 0,\n            \"type\": \"text\",\n            \"properties\": {\n                \"markdown\": \"## Flow Count Metrics\n\",\n                \"background\": \"transparent\"\n            }\n        },\n        {\n            \"height\": 6,\n            \"width\": 12,\n            \"y\": 49,\n            \"x\": 12,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SORT(SEARCH('{AWS/GatewayELB,LoadBalancer} MetricName=\\\"ActiveFlowCount\\\"', 'Sum', 60), SUM, DESC))\", \"label\": \"${PROP('Dim.LoadBalancer')}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"timeSeries\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"stat\": \"Sum\",\n                \"period\": 60,\n                \"title\": \"ActiveFlowCount\"\n            }\n        },\n        {\n            \"height\": 6,\n            \"width\": 12,\n            \"y\": 43,\n            \"x\": 0,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/GatewayELB,LoadBalancer} MetricName=\\\"RejectedFlowCount\\\"', 'Sum', 60))\", \"label\": \"${PROP('Dim.LoadBalancer')}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"timeSeries\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"stat\": \"Sum\",\n                \"period\": 60,\n                \"title\": \"RejectedFlowCount\"\n            }\n        },\n        {\n            \"height\": 7,\n            \"width\": 24,\n            \"y\": 21,\n            \"x\": 0,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SORT(SEARCH('{AWS/GatewayELB,TargetGroup,LoadBalancer} MetricName=\\\"UnHealthyHostCount\\\"', 'Maximum', 60), MAX, DESC))\", \"label\": \"${PROP('Dim.LoadBalancer')} ${PROP('Dim.TargetGroup')}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"singleValue\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"period\": 300,\n                \"stat\": \"Average\",\n                \"title\": \"Unhealthy Targets by ALB & Target Group\",\n                \"setPeriodToTimeRange\": true,\n                \"sparkline\": false\n            }\n        },\n        {\n            \"height\": 6,\n            \"width\": 12,\n            \"y\": 43,\n            \"x\": 12,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/GatewayELB,LoadBalancer} MetricName=\\\"RejectedFlowCount_TCP\\\"', 'Sum', 60))\", \"label\": \"${PROP('Dim.LoadBalancer')}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"timeSeries\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"stat\": \"Sum\",\n                \"period\": 60,\n                \"title\": \"RejectedFlowCount_TCP\"\n            }\n        },\n        {\n            \"height\": 7,\n            \"width\": 24,\n            \"y\": 36,\n            \"x\": 0,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/GatewayELB,LoadBalancer} MetricName=\\\"RejectedFlowCount\\\"', 'Sum', 60))\", \"label\": \"${PROP('Dim.LoadBalancer')}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"singleValue\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"stat\": \"Sum\",\n                \"period\": 60,\n                \"title\": \"RejectedFlowCount\",\n                \"setPeriodToTimeRange\": true,\n                \"sparkline\": false\n            }\n        },\n        {\n            \"height\": 9,\n            \"width\": 17,\n            \"y\": 11,\n            \"x\": 7,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SORT(SEARCH('{AWS/GatewayELB,LoadBalancer} MetricName=\\\"ProcessedBytes\\\"', 'Sum', 60), SUM, DESC))\", \"label\": \"${PROP('Dim.LoadBalancer')}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"timeSeries\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"period\": 300,\n                \"stat\": \"Average\",\n                \"title\": \"ProcessedBytes\"\n            }\n        },\n        {\n            \"height\": 1,\n            \"width\": 24,\n            \"y\": 20,\n            \"x\": 0,\n            \"type\": \"text\",\n            \"properties\": {\n                \"markdown\": \"## Target Group Metrics\n\",\n                \"background\": \"transparent\"\n            }\n        },\n        {\n            \"height\": 10,\n            \"width\": 7,\n            \"y\": 1,\n            \"x\": 0,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SORT(SEARCH('{AWS/GatewayELB,LoadBalancer} MetricName=\\\"PeakBytesPerSecond\\\"', 'Maximum', 60), MAX, DESC))\", \"label\": \"${PROP('Dim.LoadBalancer')}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"pie\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"period\": 300,\n                \"stat\": \"Average\",\n                \"title\": \"PeakBytesPerSecond\"\n            }\n        },\n        {\n            \"height\": 9,\n            \"width\": 7,\n            \"y\": 11,\n            \"x\": 0,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SORT(SEARCH('{AWS/GatewayELB,LoadBalancer} MetricName=\\\"ProcessedBytes\\\"', 'Sum', 60), SUM, DESC))\", \"label\": \"${PROP('Dim.LoadBalancer')}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"pie\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"period\": 300,\n                \"stat\": \"Average\",\n                \"title\": \"ProcessedBytes\"\n            }\n        }\n    ]\n}"
                        ]
                    ]
                }
            }
        },
        "CWDashboardNATAll": {
            "Type": "AWS::CloudWatch::Dashboard",
            "Properties": {
                "DashboardName": "NAT_Gateway_All_Resources",
                "DashboardBody": {
                    "Fn::Join": [
                        "",
                        [
                            "{\n    \"variables\": [\n        {\n            \"type\": \"pattern\",\n            \"pattern\": \"us-east-1\",\n            \"inputType\": \"select\",\n            \"id\": \"Region\",\n            \"label\": \"Region\",\n            \"defaultValue\": \"us-east-1\",\n            \"visible\": true,\n            \"values\": [\n                {\n                    \"value\": \"us-east-1\",\n                    \"label\": \"N. Virginia\"\n                },\n                {\n                    \"value\": \"us-east-2\",\n                    \"label\": \"Ohio\"\n                },\n                {\n                    \"value\": \"us-west-1\",\n                    \"label\": \"N.California\"\n                },\n                {\n                    \"value\": \"ca-central-1\",\n                    \"label\": \"Canada\"\n                },\n                {\n                    \"value\": \"us-west-2\",\n                    \"label\": \"Oregon\"\n                },\n                {\n                    \"value\": \"eu-west-1\",\n                    \"label\": \"Ireland\"\n                },\n                {\n                    \"value\": \"eu-west-2\",\n                    \"label\": \"London\"\n                },\n                {\n                    \"value\": \"eu-central-1\",\n                    \"label\": \"Frankfurt\"\n                }\n            ]\n        }\n    ],\n    \"widgets\": [\n        {\n            \"height\": 5,\n            \"width\": 8,\n            \"y\": 7,\n            \"x\": 0,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/NATGateway,NatGatewayId} MetricName=\\\"ActiveConnectionCount\\\"', 'Maximum', 60))\", \"label\": \"${LABEL}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"timeSeries\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"stat\": \"Sum\",\n                \"period\": 60,\n                \"title\": \"ActiveConnectionCount\"\n            }\n        },\n        {\n            \"height\": 5,\n            \"width\": 8,\n            \"y\": 1,\n            \"x\": 8,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/NATGateway,NatGatewayId} MetricName=\\\"PacketsDropCount\\\"', 'Sum', 60))\", \"label\": \"${LABEL}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"timeSeries\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"stat\": \"Sum\",\n                \"period\": 60,\n                \"title\": \"PacketsDropCount\"\n            }\n        },\n        {\n            \"height\": 5,\n            \"width\": 8,\n            \"y\": 34,\n            \"x\": 0,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/NATGateway,NatGatewayId} MetricName=\\\"BytesInFromDestination\\\"', 'Sum', 60))\", \"label\": \"${LABEL}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"timeSeries\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"stat\": \"Sum\",\n                \"period\": 60,\n                \"title\": \"BytesInFromDestination\"\n            }\n        },\n        {\n            \"height\": 5,\n            \"width\": 8,\n            \"y\": 29,\n            \"x\": 0,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/NATGateway,NatGatewayId} MetricName=\\\"BytesInFromSource\\\"', 'Sum', 60))\", \"label\": \"${LABEL}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"timeSeries\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"stat\": \"Sum\",\n                \"period\": 60,\n                \"title\": \"BytesInFromSource\"\n            }\n        },\n        {\n            \"height\": 5,\n            \"width\": 8,\n            \"y\": 34,\n            \"x\": 8,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/NATGateway,NatGatewayId} MetricName=\\\"BytesOutToDestination\\\"', 'Sum', 60))\", \"label\": \"${LABEL}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"timeSeries\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"stat\": \"Sum\",\n                \"period\": 60,\n                \"title\": \"BytesOutToDestination\"\n            }\n        },\n        {\n            \"height\": 5,\n            \"width\": 8,\n            \"y\": 29,\n            \"x\": 8,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/NATGateway,NatGatewayId} MetricName=\\\"BytesOutToSource\\\"', 'Sum', 60))\", \"label\": \"${LABEL}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"timeSeries\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"stat\": \"Sum\",\n                \"period\": 60,\n                \"title\": \"BytesOutToSource\"\n            }\n        },\n        {\n            \"height\": 5,\n            \"width\": 8,\n            \"y\": 7,\n            \"x\": 16,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/NATGateway,NatGatewayId} MetricName=\\\"ConnectionAttemptCount\\\"', 'Maximum', 60))\", \"label\": \"${LABEL}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"timeSeries\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"stat\": \"Sum\",\n                \"period\": 60,\n                \"title\": \"ConnectionAttemptCount\"\n            }\n        },\n        {\n            \"height\": 5,\n            \"width\": 8,\n            \"y\": 7,\n            \"x\": 8,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/NATGateway,NatGatewayId} MetricName=\\\"ConnectionEstablishedCount\\\"', 'Sum', 60))\", \"label\": \"${LABEL}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"timeSeries\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"stat\": \"Sum\",\n                \"period\": 60,\n                \"title\": \"ConnectionEstablishedCount\"\n            }\n        },\n        {\n            \"height\": 5,\n            \"width\": 8,\n            \"y\": 1,\n            \"x\": 0,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/NATGateway,NatGatewayId} MetricName=\\\"ErrorPortAllocation\\\"', 'Sum', 60))\", \"label\": \"${LABEL}\", \"id\": \"e1\" } ]\n                ],\n                \"view\": \"timeSeries\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"stat\": \"Sum\",\n                \"period\": 60,\n                \"title\": \"ErrorPortAllocation\"\n            }\n        },\n        {\n            \"height\": 5,\n            \"width\": 8,\n            \"y\": 12,\n            \"x\": 0,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/NATGateway,NatGatewayId} MetricName=\\\"IdleTimeoutCount\\\"', 'Sum', 60))\", \"label\": \"${LABEL}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"timeSeries\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"stat\": \"Sum\",\n                \"period\": 60,\n                \"title\": \"IdleTimeoutCount\"\n            }\n        },\n        {\n            \"height\": 5,\n            \"width\": 8,\n            \"y\": 23,\n            \"x\": 0,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/NATGateway,NatGatewayId} MetricName=\\\"PacketsInFromDestination\\\"', 'Sum', 60))\", \"label\": \"${LABEL}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"timeSeries\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"stat\": \"Sum\",\n                \"period\": 60,\n                \"title\": \"PacketsInFromDestination\"\n            }\n        },\n        {\n            \"height\": 5,\n            \"width\": 8,\n            \"y\": 18,\n            \"x\": 0,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/NATGateway,NatGatewayId} MetricName=\\\"PacketsInFromSource\\\"', 'Sum', 60))\", \"label\": \"${LABEL}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"timeSeries\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"stat\": \"Sum\",\n                \"period\": 60,\n                \"title\": \"PacketsInFromSource\"\n            }\n        },\n        {\n            \"height\": 5,\n            \"width\": 8,\n            \"y\": 23,\n            \"x\": 8,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/NATGateway,NatGatewayId} MetricName=\\\"PacketsOutToDestination\\\"', 'Sum', 60))\", \"label\": \"${LABEL}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"timeSeries\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"stat\": \"Sum\",\n                \"period\": 60,\n                \"title\": \"PacketsOutToDestination\"\n            }\n        },\n        {\n            \"height\": 5,\n            \"width\": 8,\n            \"y\": 18,\n            \"x\": 8,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/NATGateway,NatGatewayId} MetricName=\\\"PacketsOutToSource\\\"', 'Sum', 60))\", \"label\": \"${LABEL}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"timeSeries\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"stat\": \"Sum\",\n                \"period\": 60,\n                \"title\": \"PacketsOutToSource\"\n            }\n        },\n        {\n            \"height\": 5,\n            \"width\": 8,\n            \"y\": 29,\n            \"x\": 16,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/NATGateway,NatGatewayId} MetricName=\\\"PeakBytesPerSecond\\\"', 'Maximum', 60))\", \"label\": \"${LABEL}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"timeSeries\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"stat\": \"Maximum\",\n                \"period\": 60,\n                \"title\": \"PeakBytesPerSecond\"\n            }\n        },\n        {\n            \"height\": 5,\n            \"width\": 7,\n            \"y\": 18,\n            \"x\": 16,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/NATGateway,NatGatewayId} MetricName=\\\"PeakPacketsPerSecond\\\"', 'Sum', 60))\", \"label\": \"${LABEL}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"timeSeries\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"stat\": \"Sum\",\n                \"period\": 60,\n                \"title\": \"PeakPacketsPerSecond\"\n            }\n        },\n        {\n            \"height\": 1,\n            \"width\": 24,\n            \"y\": 0,\n            \"x\": 0,\n            \"type\": \"text\",\n            \"properties\": {\n                \"markdown\": \"## Error Metrics\",\n                \"background\": \"transparent\"\n            }\n        },\n        {\n            \"height\": 1,\n            \"width\": 24,\n            \"y\": 6,\n            \"x\": 0,\n            \"type\": \"text\",\n            \"properties\": {\n                \"markdown\": \"## Connection Metrics\",\n                \"background\": \"transparent\"\n            }\n        },\n        {\n            \"height\": 1,\n            \"width\": 24,\n            \"y\": 17,\n            \"x\": 0,\n            \"type\": \"text\",\n            \"properties\": {\n                \"markdown\": \"## Packet Metrics\",\n                \"background\": \"transparent\"\n            }\n        },\n        {\n            \"height\": 1,\n            \"width\": 24,\n            \"y\": 28,\n            \"x\": 0,\n            \"type\": \"text\",\n            \"properties\": {\n                \"markdown\": \"## Byte Metrics\",\n                \"background\": \"transparent\"\n            }\n        }\n    ]\n}"
                        ]
                    ]
                }
            }
        },
        "CWDashboardNATIndividual": {
            "Type": "AWS::CloudWatch::Dashboard",
            "Properties": {
                "DashboardName": "NAT_Gateway_Individual_Resources",
                "DashboardBody": {
                    "Fn::Join": [
                        "",
                        [
                            "{\n    \"variables\": [\n        {\n            \"type\": \"pattern\",\n            \"pattern\": \"us-east-1\",\n            \"inputType\": \"select\",\n            \"id\": \"Region\",\n            \"label\": \"Region\",\n            \"defaultValue\": \"us-east-1\",\n            \"visible\": true,\n            \"values\": [\n                {\n                    \"value\": \"us-east-1\",\n                    \"label\": \"N. Virginia\"\n                },\n                {\n                    \"value\": \"us-east-2\",\n                    \"label\": \"Ohio\"\n                },\n                {\n                    \"value\": \"us-west-1\",\n                    \"label\": \"N.California\"\n                },\n                {\n                    \"value\": \"ca-central-1\",\n                    \"label\": \"Canada\"\n                },\n                {\n                    \"value\": \"us-west-2\",\n                    \"label\": \"Oregon\"\n                },\n                {\n                    \"value\": \"eu-west-1\",\n                    \"label\": \"Ireland\"\n                },\n                {\n                    \"value\": \"eu-west-2\",\n                    \"label\": \"London\"\n                },\n                {\n                    \"value\": \"eu-central-1\",\n                    \"label\": \"Frankfurt\"\n                }\n            ]\n        },\n        {\n            \"type\": \"property\",\n            \"property\": \"NatGatewayId\",\n            \"inputType\": \"select\",\n            \"id\": \"NatGatewayId\",\n            \"label\": \"NatGatewayId\",\n            \"visible\": true,\n            \"search\": \"{AWS/NATGateway,NatGatewayId} MetricName=ErrorPortAllocation\",\n            \"populateFrom\": \"NatGatewayId\"\n        }\n    ],\n    \"widgets\": [\n        {\n            \"height\": 5,\n            \"width\": 8,\n            \"y\": 7,\n            \"x\": 0,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/NATGateway,NatGatewayId} NatGatewayId=\\\"nat-0fb1cc446e8d941a7\\\" MetricName=\\\"ActiveConnectionCount\\\"', 'Maximum', 60))\", \"label\": \"${LABEL}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"timeSeries\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"stat\": \"Sum\",\n                \"period\": 60,\n                \"title\": \"ActiveConnectionCount\"\n            }\n        },\n        {\n            \"height\": 5,\n            \"width\": 8,\n            \"y\": 1,\n            \"x\": 8,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/NATGateway,NatGatewayId} NatGatewayId=\\\"nat-0fb1cc446e8d941a7\\\" MetricName=\\\"PacketsDropCount\\\"', 'Sum', 60))\", \"label\": \"${LABEL}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"timeSeries\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"stat\": \"Sum\",\n                \"period\": 60,\n                \"title\": \"PacketsDropCount\"\n            }\n        },\n        {\n            \"height\": 5,\n            \"width\": 8,\n            \"y\": 34,\n            \"x\": 0,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/NATGateway,NatGatewayId} NatGatewayId=\\\"nat-0fb1cc446e8d941a7\\\" MetricName=\\\"BytesInFromDestination\\\"', 'Sum', 60))\", \"label\": \"${LABEL}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"timeSeries\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"stat\": \"Sum\",\n                \"period\": 60,\n                \"title\": \"BytesInFromDestination\"\n            }\n        },\n        {\n            \"height\": 5,\n            \"width\": 8,\n            \"y\": 29,\n            \"x\": 0,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/NATGateway,NatGatewayId} NatGatewayId=\\\"nat-0fb1cc446e8d941a7\\\" MetricName=\\\"BytesInFromSource\\\"', 'Sum', 60))\", \"label\": \"${LABEL}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"timeSeries\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"stat\": \"Sum\",\n                \"period\": 60,\n                \"title\": \"BytesInFromSource\"\n            }\n        },\n        {\n            \"height\": 5,\n            \"width\": 8,\n            \"y\": 34,\n            \"x\": 8,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/NATGateway,NatGatewayId} NatGatewayId=\\\"nat-0fb1cc446e8d941a7\\\" MetricName=\\\"BytesOutToDestination\\\"', 'Sum', 60))\", \"label\": \"${LABEL}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"timeSeries\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"stat\": \"Sum\",\n                \"period\": 60,\n                \"title\": \"BytesOutToDestination\"\n            }\n        },\n        {\n            \"height\": 5,\n            \"width\": 8,\n            \"y\": 29,\n            \"x\": 8,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/NATGateway,NatGatewayId} NatGatewayId=\\\"nat-0fb1cc446e8d941a7\\\" MetricName=\\\"BytesOutToSource\\\"', 'Sum', 60))\", \"label\": \"${LABEL}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"timeSeries\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"stat\": \"Sum\",\n                \"period\": 60,\n                \"title\": \"BytesOutToSource\"\n            }\n        },\n        {\n            \"height\": 5,\n            \"width\": 8,\n            \"y\": 7,\n            \"x\": 16,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/NATGateway,NatGatewayId} NatGatewayId=\\\"nat-0fb1cc446e8d941a7\\\" MetricName=\\\"ConnectionAttemptCount\\\"', 'Maximum', 60))\", \"label\": \"${LABEL}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"timeSeries\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"stat\": \"Sum\",\n                \"period\": 60,\n                \"title\": \"ConnectionAttemptCount\"\n            }\n        },\n        {\n            \"height\": 5,\n            \"width\": 8,\n            \"y\": 7,\n            \"x\": 8,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/NATGateway,NatGatewayId} NatGatewayId=\\\"nat-0fb1cc446e8d941a7\\\" MetricName=\\\"ConnectionEstablishedCount\\\"', 'Sum', 60))\", \"label\": \"${LABEL}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"timeSeries\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"stat\": \"Sum\",\n                \"period\": 60,\n                \"title\": \"ConnectionEstablishedCount\"\n            }\n        },\n        {\n            \"height\": 5,\n            \"width\": 8,\n            \"y\": 1,\n            \"x\": 0,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/NATGateway,NatGatewayId} NatGatewayId=\\\"nat-0fb1cc446e8d941a7\\\" MetricName=\\\"ErrorPortAllocation\\\"', 'Sum', 60))\", \"label\": \"${LABEL}\", \"id\": \"e1\" } ]\n                ],\n                \"view\": \"timeSeries\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"stat\": \"Sum\",\n                \"period\": 60,\n                \"title\": \"ErrorPortAllocation\"\n            }\n        },\n        {\n            \"height\": 5,\n            \"width\": 8,\n            \"y\": 12,\n            \"x\": 0,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/NATGateway,NatGatewayId} NatGatewayId=\\\"nat-0fb1cc446e8d941a7\\\" MetricName=\\\"IdleTimeoutCount\\\"', 'Sum', 60))\", \"label\": \"${LABEL}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"timeSeries\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"stat\": \"Sum\",\n                \"period\": 60,\n                \"title\": \"IdleTimeoutCount\"\n            }\n        },\n        {\n            \"height\": 5,\n            \"width\": 8,\n            \"y\": 23,\n            \"x\": 0,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/NATGateway,NatGatewayId} NatGatewayId=\\\"nat-0fb1cc446e8d941a7\\\" MetricName=\\\"PacketsInFromDestination\\\"', 'Sum', 60))\", \"label\": \"${LABEL}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"timeSeries\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"stat\": \"Sum\",\n                \"period\": 60,\n                \"title\": \"PacketsInFromDestination\"\n            }\n        },\n        {\n            \"height\": 5,\n            \"width\": 8,\n            \"y\": 18,\n            \"x\": 0,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/NATGateway,NatGatewayId} NatGatewayId=\\\"nat-0fb1cc446e8d941a7\\\" MetricName=\\\"PacketsInFromSource\\\"', 'Sum', 60))\", \"label\": \"${LABEL}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"timeSeries\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"stat\": \"Sum\",\n                \"period\": 60,\n                \"title\": \"PacketsInFromSource\"\n            }\n        },\n        {\n            \"height\": 5,\n            \"width\": 8,\n            \"y\": 23,\n            \"x\": 8,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/NATGateway,NatGatewayId} NatGatewayId=\\\"nat-0fb1cc446e8d941a7\\\" MetricName=\\\"PacketsOutToDestination\\\"', 'Sum', 60))\", \"label\": \"${LABEL}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"timeSeries\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"stat\": \"Sum\",\n                \"period\": 60,\n                \"title\": \"PacketsOutToDestination\"\n            }\n        },\n        {\n            \"height\": 5,\n            \"width\": 8,\n            \"y\": 18,\n            \"x\": 8,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/NATGateway,NatGatewayId} NatGatewayId=\\\"nat-0fb1cc446e8d941a7\\\" MetricName=\\\"PacketsOutToSource\\\"', 'Sum', 60))\", \"label\": \"${LABEL}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"timeSeries\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"stat\": \"Sum\",\n                \"period\": 60,\n                \"title\": \"PacketsOutToSource\"\n            }\n        },\n        {\n            \"height\": 5,\n            \"width\": 8,\n            \"y\": 29,\n            \"x\": 16,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/NATGateway,NatGatewayId} NatGatewayId=\\\"nat-0fb1cc446e8d941a7\\\" MetricName=\\\"PeakBytesPerSecond\\\"', 'Maximum', 60))\", \"label\": \"${LABEL}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"timeSeries\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"stat\": \"Maximum\",\n                \"period\": 60,\n                \"title\": \"PeakBytesPerSecond\"\n            }\n        },\n        {\n            \"height\": 5,\n            \"width\": 7,\n            \"y\": 18,\n            \"x\": 16,\n            \"type\": \"metric\",\n            \"properties\": {\n                \"metrics\": [\n                    [ { \"expression\": \"REMOVE_EMPTY(SEARCH('{AWS/NATGateway,NatGatewayId} NatGatewayId=\\\"nat-0fb1cc446e8d941a7\\\" MetricName=\\\"PeakPacketsPerSecond\\\"', 'Sum', 60))\", \"label\": \"${LABEL}\", \"id\": \"e1\", \"region\": \"us-east-1\" } ]\n                ],\n                \"view\": \"timeSeries\",\n                \"stacked\": false,\n                \"region\": \"us-east-1\",\n                \"stat\": \"Sum\",\n                \"period\": 60,\n                \"title\": \"PeakPacketsPerSecond\"\n            }\n        },\n        {\n            \"height\": 1,\n            \"width\": 24,\n            \"y\": 0,\n            \"x\": 0,\n            \"type\": \"text\",\n            \"properties\": {\n                \"markdown\": \"## Error Metrics\"\n            }\n        },\n        {\n            \"height\": 1,\n            \"width\": 24,\n            \"y\": 6,\n            \"x\": 0,\n            \"type\": \"text\",\n            \"properties\": {\n                \"markdown\": \"## Connection Metrics\"\n            }\n        },\n        {\n            \"height\": 1,\n            \"width\": 24,\n            \"y\": 17,\n            \"x\": 0,\n            \"type\": \"text\",\n            \"properties\": {\n                \"markdown\": \"## Packet Metrics\"\n            }\n        },\n        {\n            \"height\": 1,\n            \"width\": 24,\n            \"y\": 28,\n            \"x\": 0,\n            \"type\": \"text\",\n            \"properties\": {\n                \"markdown\": \"## Byte Metrics\"\n            }\n        }\n    ]\n}"
                        ]
                    ]
                }
            }
        }
    }
}