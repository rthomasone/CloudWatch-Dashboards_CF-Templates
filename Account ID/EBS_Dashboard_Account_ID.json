{
    "AWSTemplateFormatVersion": "2010-09-09",
    "Description": "CloudWatch Dashboards to visualize Elastic Block Storage (EBS) resources.",
    "Transform": "AWS::LanguageExtensions",
    "Parameters": {
        "DefaultAccountID": {
            "Description": "Input the AWS Account ID hosting the EBS volumes to be monitored.(e.g. 123456789012)",
            "Type": "String",
            "Default": ""
        },
        "DefaultRegion": {
            "Description": "Select the default region hosting the EBS volumes to be monitored.",
            "Type": "String",
            "Default": "us-east-1"
        },
        "DefaultEBS": {
            "Description": "Input the default EBS volume to be monitored. (e.g. i-abcdefg012345)",
            "Type": "String",
            "Default": ""
        }
    },
    "Resources": {
        "CWDashboardEBSAll": {
            "Type": "AWS::CloudWatch::Dashboard",
            "Properties": {
                "DashboardName": "EBS_All_Resources_Test",
                "DashboardBody": {
                    "Fn::ToJsonString": {
                        "variables": [
                            {
                                "type": "property",
                                "property": "accountId",
                                "inputType": "select",
                                "id": "accountId",
                                "label": "Account_ID",
                                "defaultValue": {
                                    "Ref": "DefaultAccountID"
                                },
                                "visible": true,
                                "values": [
                                    {
                                        "value": {
                                            "Ref": "DefaultAccountID"
                                        }
                                    }
                                ]
                            },
                            {
                                "type": "property",
                                "property": "region",
                                "inputType": "select",
                                "id": "Region",
                                "label": "Region",
                                "defaultValue": {
                                    "Ref": "DefaultRegion"
                                },
                                "visible": true,
                                "values": [
                                    {
                                        "value": "us-east-1",
                                        "label": "N. Virginia"
                                    },
                                    {
                                        "value": "us-east-2",
                                        "label": "Ohio"
                                    },
                                    {
                                        "value": "us-west-1",
                                        "label": "N.California"
                                    },
                                    {
                                        "value": "us-west-2",
                                        "label": "Oregon"
                                    },
                                    {
                                        "value": "ap-east-1",
                                        "label": "Hong Kong"
                                    },
                                    {
                                        "value": "ap-south-1",
                                        "label": "Mumbai"
                                    },
                                    {
                                        "value": "ap-northeast-3",
                                        "label": "Osaka"
                                    },
                                    {
                                        "value": "ap-northeast-2",
                                        "label": "Seoul"
                                    },
                                    {
                                        "value": "ap-southeast-1",
                                        "label": "Singapore"
                                    },
                                    {
                                        "value": "ap-southeast-2",
                                        "label": "Sydney"
                                    },
                                    {
                                        "value": "ap-noutheast-1",
                                        "label": "Toyko"
                                    },
                                    {
                                        "value": "ca-central-1",
                                        "label": "Canada"
                                    },
                                    {
                                        "value": "eu-central-1",
                                        "label": "Frankfurt"
                                    },
                                    {
                                        "value": "eu-west-1",
                                        "label": "Ireland"
                                    },
                                    {
                                        "value": "eu-west-2",
                                        "label": "London"
                                    },
                                    {
                                        "value": "eu-west-3",
                                        "label": "Paris"
                                    },
                                    {
                                        "value": "eu-north-1",
                                        "label": "Stockholm"
                                    },
                                    {
                                        "value": "sa-east-1",
                                        "label": "South America"
                                    }
                                ]
                            }
                        ],
                        "widgets": [
                            {
                                "type": "text",
                                "x": 0,
                                "y": 0,
                                "width": 24,
                                "height": 1,
                                "properties": {
                                    "markdown": "# EBS Volumes",
                                    "background": "transparent"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 0,
                                "y": 1,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "REMOVE_EMPTY(SORT(SEARCH('{AWS/EBS,VolumeId} MetricName=\"VolumeReadBytes\"', 'Sum', 60), SUM, DESC))",
                                                "label": "${PROP('Dim.VolumeId')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "accountId": "123456789012",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "VolumeReadBytes (SUM)"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 0,
                                "y": 7,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "REMOVE_EMPTY(SORT(SEARCH('{AWS/EBS,VolumeId} MetricName=\"VolumeWriteBytes\"', 'Sum', 60), SUM, DESC))",
                                                "label": "${PROP('Dim.VolumeId')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "accountId": "123456789012",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "VolumeWriteBytes (SUM)"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 6,
                                "y": 1,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "REMOVE_EMPTY(SORT(SEARCH('{AWS/EBS,VolumeId} MetricName=\"VolumeReadOps\"', 'Sum', 60), SUM, DESC))",
                                                "label": "${PROP('Dim.VolumeId')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "accountId": "123456789012",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "VolumeReadOps (SUM)"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 6,
                                "y": 7,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "REMOVE_EMPTY(SORT(SEARCH('{AWS/EBS,VolumeId} MetricName=\"VolumeWriteOps\"', 'Sum', 60), SUM, DESC))",
                                                "label": "${PROP('Dim.VolumeId')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "accountId": "123456789012",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "VolumeWriteOps (SUM)"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 12,
                                "y": 1,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "REMOVE_EMPTY(SORT(SEARCH('{AWS/EBS,VolumeId} MetricName=\"VolumeTotalReadTime\"', 'Average', 60), AVG, DESC))",
                                                "label": "${PROP('Dim.VolumeId')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "accountId": "123456789012",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "VolumeTotalReadTime (AVG)"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 12,
                                "y": 7,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "REMOVE_EMPTY(SORT(SEARCH('{AWS/EBS,VolumeId} MetricName=\"VolumeTotalWriteTime\"', 'Average', 60), AVG, DESC))",
                                                "label": "${PROP('Dim.VolumeId')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "accountId": "123456789012",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "VolumeTotalWriteTime (AVG)"
                                }
                            },
                            {
                                "type": "text",
                                "x": 0,
                                "y": 33,
                                "width": 24,
                                "height": 1,
                                "properties": {
                                    "markdown": "# Latency",
                                    "background": "transparent"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 0,
                                "y": 27,
                                "width": 12,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "REMOVE_EMPTY(SORT(SEARCH('{AWS/EBS,VolumeId} MetricName=\"VolumeIdleTime\"', 'Sum', 60), SUM, DESC))",
                                                "label": "${PROP('Dim.VolumeId')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "accountId": "123456789012",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "VolumeIdleTime (SUM)"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 18,
                                "y": 1,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "REMOVE_EMPTY(SORT(SEARCH('{AWS/EBS,VolumeId} MetricName=\"VolumeQueueLength\"', 'Average', 60), AVG, DESC))",
                                                "label": "${PROP('Dim.VolumeId')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "accountId": "123456789012",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "Average Queue Length"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 0,
                                "y": 34,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "REMOVE_EMPTY(SORT(SEARCH('{AWS/EBS,VolumeId,InstanceId} MetricName=\"VolumeAvgReadLatency\"', 'Average', 60), AVG, DESC))",
                                                "label": "${PROP('Dim.VolumeId')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "accountId": "123456789012",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "Volume Average Read Latency"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 12,
                                "y": 14,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "REMOVE_EMPTY(SORT(SEARCH('{AWS/EBS,VolumeId} MetricName=\"VolumeThroughputPercentage\"', 'Average', 60), AVG, DESC))",
                                                "label": "${PROP('Dim.VolumeId')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "accountId": "123456789012",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "VolumeThroughputPercentage (AVG)"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 6,
                                "y": 34,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "REMOVE_EMPTY(SORT(SEARCH('{AWS/EBS,VolumeId,InstanceId} MetricName=\"VolumeAvgWriteLatency\"', 'Average', 60), AVG, DESC))",
                                                "label": "${PROP('Dim.VolumeId')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "accountId": "123456789012",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "Volume Average Write Latency"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 12,
                                "y": 34,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "REMOVE_EMPTY(SORT(SEARCH('{AWS/EBS,VolumeId,InstanceId} MetricName=\"VolumeIOPSExceededCheck\"', 'Average', 60), AVG, DESC))",
                                                "label": "${PROP('Dim.VolumeId')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "accountId": "123456789012",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "Volume IOPS Exceeded Check"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 18,
                                "y": 14,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "REMOVE_EMPTY(SORT(SEARCH('{AWS/EBS,VolumeId,InstanceId} MetricName=\"VolumeThroughputExceededCheck\"', 'Average', 60), AVG, DESC))",
                                                "label": "${PROP('Dim.VolumeId')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "accountId": "123456789012",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "Volume Throughput Exceeded Check"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 18,
                                "y": 34,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "REMOVE_EMPTY(SORT(SEARCH('{AWS/EBS,VolumeId,InstanceId} MetricName=\"VolumeStalledIOCheck\"', 'Average', 60), AVG, DESC))",
                                                "label": "${PROP('Dim.VolumeId')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "accountId": "123456789012",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "Volume Stalled IO Check"
                                }
                            },
                            {
                                "type": "text",
                                "x": 0,
                                "y": 13,
                                "width": 24,
                                "height": 1,
                                "properties": {
                                    "markdown": "# Throughput",
                                    "background": "transparent"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 0,
                                "y": 14,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "m1_0/300/1024",
                                                "label": "${PROP('Dim.VolumeId')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ],
                                        [
                                            {
                                                "expression": "REMOVE_EMPTY(SORT(SEARCH('{AWS/EBS,VolumeId} MetricName=\"VolumeReadBytes\"', 'Sum', 300), SUM, DESC))",
                                                "label": "${PROP('Dim.VolumeId')}",
                                                "id": "m1_0",
                                                "region": "us-east-1",
                                                "period": 300,
                                                "visible": false
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "accountId": "123456789012",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "Read Throughput (KiB/s)"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 6,
                                "y": 14,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "m1_0/300/1024",
                                                "label": "${PROP('Dim.VolumeId')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ],
                                        [
                                            {
                                                "expression": "REMOVE_EMPTY(SORT(SEARCH('{AWS/EBS,VolumeId} MetricName=\"VolumeWriteBytes\"', 'Sum', 300), SUM, DESC))",
                                                "label": "${PROP('Dim.VolumeId')}",
                                                "id": "m1_0",
                                                "region": "us-east-1",
                                                "period": 300,
                                                "visible": false
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "accountId": "123456789012",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "Write Throughput (KiB/s)"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 0,
                                "y": 20,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "m1_0 / 60",
                                                "label": "${PROP('Dim.VolumeId')}",
                                                "id": "e2",
                                                "region": "us-east-1"
                                            }
                                        ],
                                        [
                                            {
                                                "expression": "REMOVE_EMPTY(SORT(SEARCH('{AWS/EBS,VolumeId} MetricName=\"VolumeReadOps\"', 'Sum', 60), SUM, DESC))",
                                                "label": "${PROP('Dim.VolumeId')}",
                                                "id": "m1_0",
                                                "region": "us-east-1",
                                                "visible": false
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "accountId": "123456789012",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "Read Operations (Ops/s)"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 6,
                                "y": 20,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "m1_0 / 60",
                                                "label": "${PROP('Dim.VolumeId')}",
                                                "id": "e2",
                                                "region": "us-east-1"
                                            }
                                        ],
                                        [
                                            {
                                                "expression": "REMOVE_EMPTY(SORT(SEARCH('{AWS/EBS,VolumeId} MetricName=\"VolumeWriteOps\"', 'Sum', 60), SUM, DESC))",
                                                "label": "${PROP('Dim.VolumeId')}",
                                                "id": "m1_0",
                                                "region": "us-east-1",
                                                "visible": false
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "accountId": "123456789012",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "Write Operations (Ops/s)"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 18,
                                "y": 7,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "REMOVE_EMPTY(SORT(SEARCH('{AWS/EBS,VolumeId} MetricName=\"BurstBalance\"', 'Minimum', 300), MIN, DESC))",
                                                "label": "${PROP('Dim.VolumeId')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "accountId": "123456789012",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "Burst balance (%)"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 12,
                                "y": 27,
                                "width": 12,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "m1_0 / 300 * 100",
                                                "label": "${PROP('Dim.VolumeId')}",
                                                "id": "e1"
                                            }
                                        ],
                                        [
                                            {
                                                "expression": "REMOVE_EMPTY(SORT(SEARCH('{AWS/EBS,VolumeId} MetricName=\"VolumeIdleTime\"', 'Sum', 300), SUM, DESC))",
                                                "label": "${PROP('Dim.VolumeId')}",
                                                "id": "m1_0",
                                                "region": "us-east-1",
                                                "visible": false
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "accountId": "123456789012",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "Time spent idle (%)"
                                }
                            },
                            {
                                "type": "text",
                                "x": 0,
                                "y": 26,
                                "width": 24,
                                "height": 1,
                                "properties": {
                                    "markdown": "# Idle Time",
                                    "background": "transparent"
                                }
                            }
                        ]
                    }
                }
            }
        },
        "CWDashboardEBSIndividual": {
            "Type": "AWS::CloudWatch::Dashboard",
            "Properties": {
                "DashboardName": "EBS_Individual_Resources_Test",
                "DashboardBody": {
                    "Fn::ToJsonString": {
                        "variables": [
                            {
                                "type": "property",
                                "property": "accountId",
                                "inputType": "select",
                                "id": "accountId",
                                "label": "Account_ID",
                                "defaultValue": {
                                    "Ref": "DefaultAccountID"
                                },
                                "visible": true,
                                "values": [
                                    {
                                        "value": {
                                            "Ref": "DefaultAccountID"
                                        }
                                    }
                                ]
                            },
                            {
                                "type": "property",
                                "property": "region",
                                "inputType": "select",
                                "id": "Region",
                                "label": "Region",
                                "defaultValue": "us-east-1",
                                "visible": true,
                                "values": [
                                    {
                                        "value": "us-east-1",
                                        "label": "N. Virginia"
                                    },
                                    {
                                        "value": "us-east-2",
                                        "label": "Ohio"
                                    },
                                    {
                                        "value": "us-west-1",
                                        "label": "N.California"
                                    },
                                    {
                                        "value": "us-west-2",
                                        "label": "Oregon"
                                    },
                                    {
                                        "value": "ap-east-1",
                                        "label": "Hong Kong"
                                    },
                                    {
                                        "value": "ap-south-1",
                                        "label": "Mumbai"
                                    },
                                    {
                                        "value": "ap-northeast-3",
                                        "label": "Osaka"
                                    },
                                    {
                                        "value": "ap-northeast-2",
                                        "label": "Seoul"
                                    },
                                    {
                                        "value": "ap-southeast-1",
                                        "label": "Singapore"
                                    },
                                    {
                                        "value": "ap-southeast-2",
                                        "label": "Sydney"
                                    },
                                    {
                                        "value": "ap-noutheast-1",
                                        "label": "Toyko"
                                    },
                                    {
                                        "value": "ca-central-1",
                                        "label": "Canada"
                                    },
                                    {
                                        "value": "eu-central-1",
                                        "label": "Frankfurt"
                                    },
                                    {
                                        "value": "eu-west-1",
                                        "label": "Ireland"
                                    },
                                    {
                                        "value": "eu-west-2",
                                        "label": "London"
                                    },
                                    {
                                        "value": "eu-west-3",
                                        "label": "Paris"
                                    },
                                    {
                                        "value": "eu-north-1",
                                        "label": "Stockholm"
                                    },
                                    {
                                        "value": "sa-east-1",
                                        "label": "South America"
                                    }
                                ]
                            },
                            {
                                "type": "property",
                                "property": "VolumeId",
                                "inputType": "select",
                                "id": "VolumeId",
                                "label": "VolumeId",
                                "defaultValue": {
                                    "Ref": "DefaultEBS"
                                },
                                "visible": true,
                                "inputPopulationType": "search",
                                "search": "{AWS/EBS,VolumeId} MetricName=VolumeReadBytes",
                                "populateFrom": "VolumeId"
                            }
                        ],
                        "widgets": [
                            {
                                "type": "text",
                                "x": 0,
                                "y": 0,
                                "width": 24,
                                "height": 1,
                                "properties": {
                                    "markdown": "# EBS Volumes",
                                    "background": "transparent"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 0,
                                "y": 1,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "REMOVE_EMPTY(SORT(SEARCH('{AWS/EBS,VolumeId} VolumeId=\"vol-abcdefg012345\" MetricName=\"VolumeReadBytes\"', 'Sum', 60), SUM, DESC))",
                                                "label": "${PROP('Dim.VolumeId')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "accountId": "123456789012",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "VolumeReadBytes (SUM)"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 0,
                                "y": 7,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "REMOVE_EMPTY(SORT(SEARCH('{AWS/EBS,VolumeId} VolumeId=\"vol-abcdefg012345\" MetricName=\"VolumeWriteBytes\"', 'Sum', 60), SUM, DESC))",
                                                "label": "${PROP('Dim.VolumeId')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "accountId": "123456789012",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "VolumeWriteBytes (SUM)"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 6,
                                "y": 1,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "REMOVE_EMPTY(SORT(SEARCH('{AWS/EBS,VolumeId} VolumeId=\"vol-abcdefg012345\" MetricName=\"VolumeReadOps\"', 'Sum', 60), SUM, DESC))",
                                                "label": "${PROP('Dim.VolumeId')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "accountId": "123456789012",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "VolumeReadOps (SUM)"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 6,
                                "y": 7,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "REMOVE_EMPTY(SORT(SEARCH('{AWS/EBS,VolumeId} VolumeId=\"vol-abcdefg012345\" MetricName=\"VolumeWriteOps\"', 'Sum', 60), SUM, DESC))",
                                                "label": "${PROP('Dim.VolumeId')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "accountId": "123456789012",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "VolumeWriteOps (SUM)"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 12,
                                "y": 1,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "REMOVE_EMPTY(SORT(SEARCH('{AWS/EBS,VolumeId} VolumeId=\"vol-abcdefg012345\" MetricName=\"VolumeTotalReadTime\"', 'Average', 60), AVG, DESC))",
                                                "label": "${PROP('Dim.VolumeId')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "accountId": "123456789012",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "VolumeTotalReadTime (AVG)"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 12,
                                "y": 7,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "REMOVE_EMPTY(SORT(SEARCH('{AWS/EBS,VolumeId} VolumeId=\"vol-abcdefg012345\" MetricName=\"VolumeTotalWriteTime\"', 'Average', 60), AVG, DESC))",
                                                "label": "${PROP('Dim.VolumeId')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "accountId": "123456789012",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "VolumeTotalWriteTime (AVG)"
                                }
                            },
                            {
                                "type": "text",
                                "x": 0,
                                "y": 33,
                                "width": 24,
                                "height": 1,
                                "properties": {
                                    "markdown": "# Latency",
                                    "background": "transparent"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 0,
                                "y": 27,
                                "width": 12,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "REMOVE_EMPTY(SORT(SEARCH('{AWS/EBS,VolumeId} VolumeId=\"vol-abcdefg012345\" MetricName=\"VolumeIdleTime\"', 'Sum', 60), SUM, DESC))",
                                                "label": "${PROP('Dim.VolumeId')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "accountId": "123456789012",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "VolumeIdleTime (SUM)"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 18,
                                "y": 1,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "REMOVE_EMPTY(SORT(SEARCH('{AWS/EBS,VolumeId} VolumeId=\"vol-abcdefg012345\" MetricName=\"VolumeQueueLength\"', 'Average', 60), AVG, DESC))",
                                                "label": "${PROP('Dim.VolumeId')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "accountId": "123456789012",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "Average Queue Length"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 0,
                                "y": 34,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "REMOVE_EMPTY(SORT(SEARCH('{AWS/EBS,VolumeId,InstanceId} VolumeId=\"vol-abcdefg012345\" MetricName=\"VolumeAvgReadLatency\"', 'Average', 60), AVG, DESC))",
                                                "label": "${PROP('Dim.VolumeId')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "accountId": "123456789012",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "Volume Average Read Latency"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 12,
                                "y": 14,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "REMOVE_EMPTY(SORT(SEARCH('{AWS/EBS,VolumeId} VolumeId=\"vol-abcdefg012345\" MetricName=\"VolumeThroughputPercentage\"', 'Average', 60), AVG, DESC))",
                                                "label": "${PROP('Dim.VolumeId')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "accountId": "123456789012",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "VolumeThroughputPercentage (AVG)"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 6,
                                "y": 34,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "REMOVE_EMPTY(SORT(SEARCH('{AWS/EBS,VolumeId,InstanceId} VolumeId=\"vol-abcdefg012345\" MetricName=\"VolumeAvgWriteLatency\"', 'Average', 60), AVG, DESC))",
                                                "label": "${PROP('Dim.VolumeId')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "accountId": "123456789012",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "Volume Average Write Latency"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 12,
                                "y": 34,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "REMOVE_EMPTY(SORT(SEARCH('{AWS/EBS,VolumeId,InstanceId} VolumeId=\"vol-abcdefg012345\" MetricName=\"VolumeIOPSExceededCheck\"', 'Average', 60), AVG, DESC))",
                                                "label": "${PROP('Dim.VolumeId')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "accountId": "123456789012",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "Volume IOPS Exceeded Check"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 18,
                                "y": 14,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "REMOVE_EMPTY(SORT(SEARCH('{AWS/EBS,VolumeId,InstanceId} VolumeId=\"vol-abcdefg012345\" MetricName=\"VolumeThroughputExceededCheck\"', 'Average', 60), AVG, DESC))",
                                                "label": "${PROP('Dim.VolumeId')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "accountId": "123456789012",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "Volume Throughput Exceeded Check"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 18,
                                "y": 34,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "REMOVE_EMPTY(SORT(SEARCH('{AWS/EBS,VolumeId,InstanceId} VolumeId=\"vol-abcdefg012345\" MetricName=\"VolumeStalledIOCheck\"', 'Average', 60), AVG, DESC))",
                                                "label": "${PROP('Dim.VolumeId')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "accountId": "123456789012",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "Volume Stalled IO Check"
                                }
                            },
                            {
                                "type": "text",
                                "x": 0,
                                "y": 13,
                                "width": 24,
                                "height": 1,
                                "properties": {
                                    "markdown": "# Throughput",
                                    "background": "transparent"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 0,
                                "y": 14,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "m1_0/300/1024",
                                                "label": "${PROP('Dim.VolumeId')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ],
                                        [
                                            {
                                                "expression": "REMOVE_EMPTY(SORT(SEARCH('{AWS/EBS,VolumeId} VolumeId=\"vol-abcdefg012345\" MetricName=\"VolumeReadBytes\"', 'Sum', 300), SUM, DESC))",
                                                "label": "${PROP('Dim.VolumeId')}",
                                                "id": "m1_0",
                                                "region": "us-east-1",
                                                "period": 300,
                                                "visible": false
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "accountId": "123456789012",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "Read Throughput (KiB/s)"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 6,
                                "y": 14,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "m1_0/300/1024",
                                                "label": "${PROP('Dim.VolumeId')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ],
                                        [
                                            {
                                                "expression": "REMOVE_EMPTY(SORT(SEARCH('{AWS/EBS,VolumeId} VolumeId=\"vol-abcdefg012345\" MetricName=\"VolumeWriteBytes\"', 'Sum', 300), SUM, DESC))",
                                                "label": "${PROP('Dim.VolumeId')}",
                                                "id": "m1_0",
                                                "region": "us-east-1",
                                                "period": 300,
                                                "visible": false
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "accountId": "123456789012",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "Write Throughput (KiB/s)"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 0,
                                "y": 20,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "m1_0 / 60",
                                                "label": "${PROP('Dim.VolumeId')}",
                                                "id": "e2",
                                                "region": "us-east-1"
                                            }
                                        ],
                                        [
                                            {
                                                "expression": "REMOVE_EMPTY(SORT(SEARCH('{AWS/EBS,VolumeId} VolumeId=\"vol-abcdefg012345\" MetricName=\"VolumeReadOps\"', 'Sum', 60), SUM, DESC))",
                                                "label": "${PROP('Dim.VolumeId')}",
                                                "id": "m1_0",
                                                "region": "us-east-1",
                                                "visible": false
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "accountId": "123456789012",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "Read Operations (Ops/s)"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 6,
                                "y": 20,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "m1_0 / 60",
                                                "label": "${PROP('Dim.VolumeId')}",
                                                "id": "e2",
                                                "region": "us-east-1"
                                            }
                                        ],
                                        [
                                            {
                                                "expression": "REMOVE_EMPTY(SORT(SEARCH('{AWS/EBS,VolumeId} VolumeId=\"vol-abcdefg012345\" MetricName=\"VolumeWriteOps\"', 'Sum', 60), SUM, DESC))",
                                                "label": "${PROP('Dim.VolumeId')}",
                                                "id": "m1_0",
                                                "region": "us-east-1",
                                                "visible": false
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "accountId": "123456789012",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "Write Operations (Ops/s)"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 18,
                                "y": 7,
                                "width": 6,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "REMOVE_EMPTY(SORT(SEARCH('{AWS/EBS,VolumeId} VolumeId=\"vol-abcdefg012345\" MetricName=\"BurstBalance\"', 'Minimum', 300), MIN, DESC))",
                                                "label": "${PROP('Dim.VolumeId')}",
                                                "id": "e1",
                                                "region": "us-east-1"
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "accountId": "123456789012",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "Burst balance (%)"
                                }
                            },
                            {
                                "type": "metric",
                                "x": 12,
                                "y": 27,
                                "width": 12,
                                "height": 6,
                                "properties": {
                                    "metrics": [
                                        [
                                            {
                                                "expression": "m1_0 / 300 * 100",
                                                "label": "${PROP('Dim.VolumeId')}",
                                                "id": "e1"
                                            }
                                        ],
                                        [
                                            {
                                                "expression": "REMOVE_EMPTY(SORT(SEARCH('{AWS/EBS,VolumeId} VolumeId=\"vol-abcdefg012345\" MetricName=\"VolumeIdleTime\"', 'Sum', 300), SUM, DESC))",
                                                "label": "${PROP('Dim.VolumeId')}",
                                                "id": "m1_0",
                                                "region": "us-east-1",
                                                "visible": false
                                            }
                                        ]
                                    ],
                                    "view": "timeSeries",
                                    "stacked": false,
                                    "region": "us-east-1",
                                    "accountId": "123456789012",
                                    "stat": "Average",
                                    "period": 300,
                                    "title": "Time spent idle (%)"
                                }
                            },
                            {
                                "type": "text",
                                "x": 0,
                                "y": 26,
                                "width": 24,
                                "height": 1,
                                "properties": {
                                    "markdown": "# Idle Time",
                                    "background": "transparent"
                                }
                            }
                        ]
                    }
                }
            }
        }
    }
}